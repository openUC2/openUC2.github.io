"use strict";(self.webpackChunkuc_2_docs=self.webpackChunkuc_2_docs||[]).push([[1424],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=c(n),h=r,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||i;return n?o.createElement(m,l(l({ref:t},p),{},{components:n})):o.createElement(m,l({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:r,l[1]=a;for(var c=2;c<i;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},54:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var o=n(87462),r=(n(67294),n(3905));const i={id:"uc2e7",title:"Controlling the UC2e"},l=void 0,a={unversionedId:"Electronics/Advanced/uc2e7",id:"Electronics/Advanced/uc2e7",title:"Controlling the UC2e",description:"Controlling the ESP32",source:"@site/docs/03_Electronics/10_Advanced/07_Controling_the_ESP32.md",sourceDirName:"03_Electronics/10_Advanced",slug:"/Electronics/Advanced/uc2e7",permalink:"/docs/Electronics/Advanced/uc2e7",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{id:"uc2e7",title:"Controlling the UC2e"},sidebar:"tutorialSidebar",previous:{title:"XYZ Micrometer Stage for Precise Motion Control",permalink:"/docs/Electronics/XYZStage/XYZ_stage_mico"},next:{title:"UC2Serial Android App",permalink:"/docs/Electronics/Advanced/Controlling_the_ESP32_APP"}},s={},c=[{value:"Controlling the ESP32",id:"controlling-the-esp32",level:2},{value:"\ud83d\udc0d Python Bindings",id:"-python-bindings",level:2},{value:"\ud83d\udcf2 Android APP",id:"-android-app",level:2},{value:"\ud83d\udcbb Browser APP",id:"-browser-app",level:2},{value:"\ud83c\udfae Playstation 3 or Playstation 4 Controller (comming soon)",id:"-playstation-3-or-playstation-4-controller-comming-soon",level:2},{value:"Controlling using ImSwitch",id:"controlling-using-imswitch",level:2}],p={toc:c};function u(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,o.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"controlling-the-esp32"},"Controlling the ESP32"),(0,r.kt)("p",null,'The unified "REST-API" (inspired, not following full protocol), enables you to control the functionalities from multiple different clients (e.g. Python, Webrowser, Android Phone). The Core idea is to file post/get requests (serial/wifi) that send/receive JSON files that do "something".'),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(70373).Z,width:"2220",height:"1034"})),(0,r.kt)("div",{class:"alert-success"},(0,r.kt)("b",null,"Installing the USB Serial Driver")," Install the CH340 USB Serial driver is explained in more detail here: ",(0,r.kt)("a",{href:"https://learn.sparkfun.com/tutorials/how-to-install-ch340-drivers/all"},"Sparkfun")),(0,r.kt)("h2",{id:"-python-bindings"},"\ud83d\udc0d Python Bindings"),(0,r.kt)("p",null,"In order to interact with the electronics, we implemented a Python library called ",(0,r.kt)("inlineCode",{parentName:"p"},"UC2-REST"),", available ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/openUC2/UC2-REST/tree/master/uc2rest"},"here")," that will help you to work with the device. The easiest way to install it would be:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"pip install uc2-rest\n")),(0,r.kt)("p",null,"It will automatically detect your UC2e (if the driver is installed), connect and will offer you the basic functionalities such as moving the motor, etc."),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Jupyter_logo.svg/207px-Jupyter_logo.svg.png",width:"60"})),(0,r.kt)("p",null,"In order to give you a deep dive in what's possible, we provide a Jupyter Notebook that guides you through all the functionalities. You can find it ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/openUC2/UC2-REST/blob/master/DOCUMENTATION/DOC_UC2Client.ipynb"},"here"),"\nStart Jupiter\nTutorial"),(0,r.kt)("h2",{id:"-android-app"},"\ud83d\udcf2 Android APP"),(0,r.kt)("p",null,"This is coming soon. You will be able to control the electronics using the Wifi connection of your Android phone."),(0,r.kt)("h2",{id:"-browser-app"},"\ud83d\udcbb Browser APP"),(0,r.kt)("p",null,"If the ESP32 is offereing an access point or is connected to your wifi router, you can access the webserver running on the ESP32 using a browser. It offers limited control over the Endpoints by filing post and get requests."),(0,r.kt)("p",null,"More information are coming soon!"),(0,r.kt)("h2",{id:"-playstation-3-or-playstation-4-controller-comming-soon"},"\ud83c\udfae Playstation 3 or Playstation 4 Controller (comming soon)"),(0,r.kt)("p",null,"With the open-source libraries PS3Controller and PS4Controller we are able to make use of the Bluetooth-able joysticks from your beloved game console."),(0,r.kt)("p",null,"When a PS4 controller is 'paired' to a PS4 console, it just means that it has stored the console's Bluetooth MAC address, which is the only device the controller will connect to. Usually, this pairing happens when you connect the controller to the PS4 console using a USB cable, and press the PS button. This initiates writing the console's MAC address to the controller."),(0,r.kt)("p",null,"Therefore, if you want to connect your PS4 controller to the ESP32, you either need to figure out what the Bluetooth MAC address of your PS4 console is and set the ESP32's address to it, or change the MAC address stored in the PS4 controller."),(0,r.kt)("p",null,"Whichever path you choose, you might want a tool to read and/or write the currently paired MAC address from the PS4 controller. You can try using ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/user-none/sixaxispairer"},"sixaxispairer")," for this purpose."),(0,r.kt)("p",null,"If you opted to change the ESP32's MAC address, you'll need to include the ip address in the ",(0,r.kt)("inlineCode",{parentName:"p"},"PS4.begin()")," function during within the ",(0,r.kt)("inlineCode",{parentName:"p"},"setup()")," Arduino function like below where ",(0,r.kt)("inlineCode",{parentName:"p"},"1a:2b:3c:01:01:01")," is the MAC address (",(0,r.kt)("strong",{parentName:"p"},"note that MAC address must be unicast"),"):"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'void setup()\n{\n    PS4.begin("1a:2b:3c:01:01:01");\n    Serial.println("Ready.");\n}\n')),(0,r.kt)("h2",{id:"controlling-using-imswitch"},"Controlling using ImSwitch"),(0,r.kt)("p",null,"Please have a look ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/openUC2/ImSwitch"},"here")," for more information about how to install ImSwitch and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/beniroquai/ImSwitchConfig"},"here")," for the UC2-related setup files including the UC2-REST serial interface."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(26905).Z,width:"1082",height:"1036"})))}u.isMDXComponent=!0},70373:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/UC2eConnectivity-d56c84cd9c5e179aee60be9331227390.png"},26905:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/UC2eImSwitch-903f533769c8e7e1109c73392a23807e.png"}}]);