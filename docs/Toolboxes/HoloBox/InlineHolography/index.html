<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Toolboxes/HoloBox/InlineHolography">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">openUC2 In-line holography | openUC2 Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.youseetoo.org/docs/Toolboxes/HoloBox/InlineHolography"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="openUC2 In-line holography | openUC2 Documentation"><meta data-rh="true" name="description" content="In this workshop, we will construct an inline holographic microscope using the UC2 modular microscope toolbox. Inline holography is a lensless imaging technique that uses coherent light interference to capture and reconstruct 3D images of transparent samples. This experiment demonstrates fundamental principles of wave optics, Fresnel diffraction, and digital image reconstruction while providing hands-on experience with modern computational imaging techniques."><meta data-rh="true" property="og:description" content="In this workshop, we will construct an inline holographic microscope using the UC2 modular microscope toolbox. Inline holography is a lensless imaging technique that uses coherent light interference to capture and reconstruct 3D images of transparent samples. This experiment demonstrates fundamental principles of wave optics, Fresnel diffraction, and digital image reconstruction while providing hands-on experience with modern computational imaging techniques."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.youseetoo.org/docs/Toolboxes/HoloBox/InlineHolography"><link data-rh="true" rel="alternate" href="https://docs.youseetoo.org/docs/Toolboxes/HoloBox/InlineHolography" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.youseetoo.org/docs/Toolboxes/HoloBox/InlineHolography" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://DB3UCAMZ89-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="openUC2 Documentation" href="/opensearch.xml">

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>var pdfData={};const getBaseUrl=function(n){return"/"},getDownloadItems=function(){for(var n,e=[],t=pdfData[(n=document.location.pathname,n.endsWith("/")?n.slice(0,-1):n)]||[],o=0,l=t.length;o<l;o++)"root"!==t[o].type?"section"!==t[o].type?"chapter"===t[o].type&&e.push({title:"Download page: <br/> <strong style=font-size:16px>"+t[o].label+"</strong>",path:"/"+t[o].file}):e.push({title:"Download section: <br/> <strong style=font-size:16px>"+t[o].label+"</strong>",path:"/"+t[o].file}):e.push({title:"Download complete version: <br/> <strong style=font-size:16px>"+t[o].label+"</strong>",path:"/"+t[o].file});return e},fillDownloadDropdownMenu=function(){$("#pdfDownloadMenuList").empty();const n=getDownloadItems();var e="";n.forEach((function(n){e+="<li>",e+='<a class="dropdown__link" href="'+n.path+'" download>'+n.title+"</a>",e+="</li>"})),0===e.length&&(e="<li>No PDF downloads on this page</li>"),$("#pdfDownloadMenuList").append(e)},fillDownloadSidebarMenu=function(){$("#pdfLinkSidebarMenu").empty();const n=getDownloadItems();var e="";n.forEach((function(n){e+='<li class="menu__list-item">',e+='<a class="menu__link" href="'+n.path+'" download>'+n.title+"</a>",e+="</li>"})),0===e.length&&(e="<li>No PDF downloads on this page</li>"),$("#pdfLinkSidebarMenu").append(e)},checkAndInsertPdfButtons=function(){if($("html").hasClass("plugin-docs")){if(!$("#pdfLink").length){var n=$('<div class="navbar__item dropdown dropdown--hoverable dropdown--right" id="pdfDownloadMenu">  <a class="navbar__item navbar__link pdfLink" id="pdfLink" href="#">Download as PDF</a>  <ul class="dropdown__menu" id="pdfDownloadMenuList"></ul></div>');$(".navbar__items--right").prepend(n),$("#pdfDownloadMenu").mouseenter(fillDownloadDropdownMenu)}if(!$("#pdfLinkSidebar").length){var e=$('<li class="menu__list-item menu__list-item--collapsed" id="pdfLinkSidebar"><a role="button" class="menu__link menu__link--sublist">Download as PDF</a><ul class="menu__list" id="pdfLinkSidebarMenu" style=""></ul></li>');$(".navbar-sidebar__items > .menu > .menu__list").append(e),$("#pdfLinkSidebar").click((function(){$("#pdfLinkSidebar").toggleClass("menu__list-item--collapsed")})),$(".navbar__toggle").click(fillDownloadSidebarMenu)}}};$(window).on("load",(function(){fetch("/pdfs.json").then((n=>n.json())).then((function(n){pdfData=n,checkAndInsertPdfButtons(),setInterval(checkAndInsertPdfButtons,1e3)}))}))</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.e4f4e440.css">
<link rel="preload" href="/assets/js/runtime~main.8b6a491d.js" as="script">
<link rel="preload" href="/assets/js/main.0ee2f2f0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Artboard4@4x.png" alt="openUC2 Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Artboard4@4x.png" alt="openUC2 Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">openUC2 Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/openuc2/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/General/ModuleDeveloperKit/">General</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/Toolboxes/">Discovery Boxes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Discovery Boxes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/DiscoveryCore/ARABIAN/uc2miniboxAR">DiscoveryCore</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/ElectronicsBox/automation_intro">ElectronicsBox</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/InfinityBox/DPCmicroscopy">InfinityBox</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/DiscoveryFluorescence/LED_Fluoresence_microscope_V1">DiscoveryFluorescence</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Toolboxes/HoloBox/InlineHolography">HoloBox</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Toolboxes/HoloBox/InlineHolography">openUC2 In-line holography</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/LightsheetBox/Light_sheet_Fluoresence_microscope">LightsheetBox</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/QuantumBox/MichelsonInterferometer/MichelsonInterferometer">QuantumBox</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/SeeedMicroscope/04_1_seeedmicroscope">SeeedMicroscope</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/GalvoBox/GalvoIntro">GalvoBox</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/Toolboxes/FourierOptics/MicroscopyCore">FourierOptics</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/Investigator/">Professional Line</a><button aria-label="Toggle the collapsible sidebar category &#x27;Professional Line&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Electronics/Quickstart">Electronics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ImSwitch/Quickstart">ImSwitch</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/WORKSHOPS/">openUC2 Workshops</a><button aria-label="Toggle the collapsible sidebar category &#x27;openUC2 Workshops&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Misc/MultiarrayMicroscope/">Misc</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ARCHIVE/ZMicroscope/UpackZMicroscope">ARCHIVE</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Toolboxes/"><span itemprop="name">Discovery Boxes</span></a><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">HoloBox</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">openUC2 In-line holography</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Tutorial: Building an Inline Holographic Microscope</h1><p>In this workshop, we will construct an inline holographic microscope using the UC2 modular microscope toolbox. Inline holography is a lensless imaging technique that uses coherent light interference to capture and reconstruct 3D images of transparent samples. This experiment demonstrates fundamental principles of wave optics, Fresnel diffraction, and digital image reconstruction while providing hands-on experience with modern computational imaging techniques.</p><p><img loading="lazy" src="/assets/images/Application_Inline_Holographic_Microscopy_v3-0ae90ecbd7489739fda5a2b3eb3fe2dd.png" width="1920" height="1080" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="materials-needed">Materials Needed<a class="hash-link" href="#materials-needed" title="Direct link to heading">​</a></h3><p><strong>Optical Components:</strong></p><ul><li>LED light source (preferably white LED for broad spectrum)</li><li>Gel color filter (green or red) for quasi-monochromatic illumination</li><li>Aluminum foil or thin metal sheet for pinhole creation</li><li>Precision pinhole (10-50 μm diameter) or needle for custom pinhole</li><li>Transparent samples (biological specimens, microstructures, dust particles)</li></ul><p><strong>Detection Equipment:</strong></p><ul><li>ESP32 camera module with wide-angle lens</li><li>Computer with WiFi capability for wireless image capture</li><li>Optional: Higher resolution camera (HIKrobot or similar) for advanced applications</li></ul><p><strong>Mechanical Components:</strong></p><ul><li>UC2 modular microscope toolbox (minimum 4 cubes)</li><li>LED holder insert for UC2 cube</li><li>Sample holder for transparent specimens</li><li>Base plates for system stability</li><li>Puzzle pieces for cube connections</li></ul><p><strong>Software and Analysis:</strong></p><ul><li>Jupyter notebook environment</li><li>Python libraries: NumPy, Matplotlib, SciPy</li><li>OpenUC2 holographic reconstruction code</li><li>ImSwitch software (optional for real-time processing)</li></ul><p><strong>Safety and Environment:</strong></p><ul><li>Dark or controlled lighting environment</li><li>Stable surface for vibration isolation</li><li>Proper sample handling equipment</li></ul><p><strong>TODO</strong>: Add specific LED wavelength recommendations and optimal power levels
<strong>TODO</strong>: Include computer system requirements for real-time reconstruction</p><p><img loading="lazy" src="/assets/images/Inline_diagram-b5bf35b55b4554d6892f03078168f905.png" width="3643" height="1035" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="diagram">Diagram<a class="hash-link" href="#diagram" title="Direct link to heading">​</a></h3><p><img loading="lazy" src="/assets/images/UC2Holo-20975adf77e7e7c841c59f0c883ec2e7.png" width="2118" height="1458" class="img_ev3q"></p><p><em>Schematic diagram showing the inline holographic microscope layout with LED source, pinhole, sample, and detector</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="theory-of-operation">Theory of Operation<a class="hash-link" href="#theory-of-operation" title="Direct link to heading">​</a></h3><p>The inline holographic microscope operates as a lensless imaging system where coherent light from a point source illuminates a transparent sample. The scattered light from the sample interferes with the unscattered reference beam directly on the detector surface, creating a holographic interference pattern. This pattern contains both amplitude and phase information about the sample, which can be computationally reconstructed to visualize the original object.</p><p>Unlike conventional microscopy that uses lenses to form images, holographic microscopy relies on digital reconstruction algorithms to focus and refocus images at different distances. This approach offers several advantages: large field of view, no optical aberrations, and the ability to focus on different depth planes post-acquisition.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="theoretical-background">Theoretical Background<a class="hash-link" href="#theoretical-background" title="Direct link to heading">​</a></h3><p><strong>Holography Principles</strong></p><p>Holography is based on the recording and reconstruction of light wave interference patterns. In inline holography, three key wave components interact:</p><ol><li><strong>Reference Wave</strong>: Unperturbed light passing through empty space</li><li><strong>Object Wave</strong>: Light scattered by the sample</li><li><strong>Interference Pattern</strong>: Superposition of reference and object waves</li></ol><p><strong>Fresnel Diffraction and Propagation</strong></p><p>The propagation of light from the sample to the detector follows Fresnel diffraction theory. The complex amplitude at the detector plane is given by:</p><p>U(x,y,z) = -i/(λz) ∬ U(x&#x27;,y&#x27;,0) exp<!-- -->[ik/(2z)((x-x&#x27;)² + (y-y&#x27;)²)]<!-- --> dx&#x27;dy&#x27;</p><p>Where λ is the wavelength, z is the propagation distance, and k = 2π/λ is the wave number.</p><p><strong>Digital Reconstruction</strong></p><p>The reconstruction process involves numerically propagating the recorded intensity pattern back to the sample plane using the Fresnel-Kirchhoff diffraction integral. This is efficiently implemented using Fast Fourier Transform (FFT) algorithms:</p><ol><li><strong>Forward FFT</strong>: Convert intensity pattern to frequency domain</li><li><strong>Phase Correction</strong>: Apply propagation phase factor</li><li><strong>Inverse FFT</strong>: Transform back to spatial domain</li></ol><p>The propagation phase factor is: H(fx,fy,z) = exp<!-- -->[ikz√(1 - λ²fx² - λ²fy²)]</p><p><strong>Limitations and Challenges</strong></p><p>Inline holography faces several fundamental limitations:</p><ul><li><strong>Twin Image Problem</strong>: Loss of phase information creates overlapping virtual images</li><li><strong>Limited Resolution</strong>: Bounded by pixel size and numerical aperture</li><li><strong>Sparse Sample Requirement</strong>: Dense samples create complex interference patterns</li><li><strong>Coherence Requirements</strong>: Spatial and temporal coherence affect image quality</li></ul><p><strong>Modern Applications</strong></p><p>Inline holography has found applications in:</p><ul><li><strong>Medical diagnostics</strong>: Blood cell analysis, malaria detection</li><li><strong>Environmental monitoring</strong>: Plankton and microorganism studies</li><li><strong>Industrial inspection</strong>: Particle size and distribution analysis</li><li><strong>Materials science</strong>: Thin film characterization</li><li><strong>Astronomical imaging</strong>: Space-based telescopy applications</li></ul><p><strong>TODO</strong>: Add mathematical derivations for advanced students
<strong>TODO</strong>: Include specific resolution calculations for different system parameters</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tutorial-inline-holographic-microscope-setup">Tutorial: Inline Holographic Microscope Setup<a class="hash-link" href="#tutorial-inline-holographic-microscope-setup" title="Direct link to heading">​</a></h2><p><em>Complete assembly showing all components needed for the inline holographic microscope</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-assemble-the-optical-components">Step 1: Assemble the Optical Components<a class="hash-link" href="#step-1-assemble-the-optical-components" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="safety-instructions">SAFETY INSTRUCTIONS<a class="hash-link" href="#safety-instructions" title="Direct link to heading">​</a></h3><p><strong>⚠️ GENERAL SAFETY WARNINGS:</strong></p><ol><li><strong>Handle optical components carefully</strong> to avoid scratches and contamination</li><li><strong>Work in controlled lighting conditions</strong> to minimize background interference</li><li><strong>Use proper sample handling techniques</strong> to prevent contamination</li><li><strong>Ensure stable mounting</strong> to prevent component movement during measurements</li><li><strong>Keep work area clean and organized</strong> to avoid losing small components</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-prepare-the-illumination-source">1.1: Prepare the Illumination Source<a class="hash-link" href="#11-prepare-the-illumination-source" title="Direct link to heading">​</a></h3><p>Create a quasi-coherent point source by:</p><ol><li>Insert LED into the UC2 LED holder</li><li>Place gel color filter in front of LED (green or red recommended)</li><li>Create a small pinhole (10-50 μm) in aluminum foil using a fine needle</li><li>Mount the pinhole-filter assembly in the UC2 cube</li></ol><p><strong>Note</strong>: The pinhole size determines spatial coherence - smaller pinholes provide better coherence but reduced brightness.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-build-the-base-configuration">1.2: Build the Base Configuration<a class="hash-link" href="#12-build-the-base-configuration" title="Direct link to heading">​</a></h3><p>Assemble the system with four UC2 cubes in a linear arrangement:</p><ol><li><strong>Cube 1</strong>: LED source with pinhole</li><li><strong>Cube 2</strong>: Empty spacer cube </li><li><strong>Cube 3</strong>: Sample holder cube</li><li><strong>Cube 4</strong>: Camera detector cube</li></ol><p>Connect all cubes with base plates for mechanical stability.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-position-the-sample">1.3: Position the Sample<a class="hash-link" href="#13-position-the-sample" title="Direct link to heading">​</a></h3><p>Mount your transparent sample as close as possible to the camera sensor:</p><ol><li>Use minimal sample thickness (coverslip or thin film)</li><li>Ensure sample is sparse (isolated particles work best)</li><li>Avoid dense or thick samples that create complex scattering</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="14-optimize-source-sample-detector-geometry">1.4: Optimize Source-Sample-Detector Geometry<a class="hash-link" href="#14-optimize-source-sample-detector-geometry" title="Direct link to heading">​</a></h3><p>The key distances are:</p><ul><li><strong>Source-to-sample distance (L1)</strong>: 10-20 cm for good illumination uniformity</li><li><strong>Sample-to-detector distance (L2)</strong>: &lt;5 mm for high resolution</li><li><strong>Magnification ratio</strong>: M = L1/L2 (typically 20-100x)</li></ul><p><strong>TODO</strong>: Add specific distance calculations for different magnification requirements</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-electronics">Step 2: Electronics<a class="hash-link" href="#step-2-electronics" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-esp32-camera-setup">2.1: ESP32 Camera Setup<a class="hash-link" href="#21-esp32-camera-setup" title="Direct link to heading">​</a></h3><ol><li>Connect ESP32 camera module to power supply</li><li>Configure WiFi connection for wireless image capture</li><li>Test camera functionality with basic image acquisition</li><li>Adjust exposure and gain settings for optimal signal-to-noise ratio</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-camera-software-configuration">2.2: Camera Software Configuration<a class="hash-link" href="#22-camera-software-configuration" title="Direct link to heading">​</a></h3><ol><li>Connect to ESP32 web interface via WiFi</li><li>Set image resolution (typically VGA or higher)</li><li>Adjust compression settings (minimize JPEG artifacts)</li><li>Test image capture and download functionality</li></ol><p><strong>TODO</strong>: Add specific firmware versions and configuration parameters</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-alignment-and-optimization">Step 3: Alignment and Optimization<a class="hash-link" href="#step-3-alignment-and-optimization" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-system-alignment">3.1: System Alignment<a class="hash-link" href="#31-system-alignment" title="Direct link to heading">​</a></h3><ol><li>Turn on LED source and observe illumination pattern</li><li>Check for uniform illumination across the field of view</li><li>Ensure pinhole is properly centered and clean</li><li>Verify camera is recording the sample area</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-environmental-optimization">3.2: Environmental Optimization<a class="hash-link" href="#32-environmental-optimization" title="Direct link to heading">​</a></h3><ol><li><strong>Eliminate stray light</strong>: Cover system with dark enclosure</li><li><strong>Minimize vibrations</strong>: Use stable surface or isolation table</li><li><strong>Control air currents</strong>: Avoid drafts that can cause intensity fluctuations</li><li><strong>Thermal stability</strong>: Allow system to reach thermal equilibrium</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-sample-optimization">3.3: Sample Optimization<a class="hash-link" href="#33-sample-optimization" title="Direct link to heading">​</a></h3><p>Test with different samples to find optimal conditions:</p><ul><li>Start with sparse dust particles or pollen</li><li>Progress to biological samples (cells, bacteria)</li><li>Avoid thick or dense samples initially</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-digital-reconstruction-imswitch-integration">Step 4: Digital Reconstruction (ImSwitch Integration)<a class="hash-link" href="#step-4-digital-reconstruction-imswitch-integration" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-basic-python-reconstruction">4.1: Basic Python Reconstruction<a class="hash-link" href="#41-basic-python-reconstruction" title="Direct link to heading">​</a></h3><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> scipy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> fft2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ifft2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reconstruct_inline_hologram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hologram</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wavelength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pixel_size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Reconstruct inline hologram using Fresnel propagation</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Parameters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    hologram: 2D numpy array of intensity values</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    wavelength: light wavelength in meters</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    pixel_size: detector pixel size in meters  </span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    distance: reconstruction distance in meters</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get image dimensions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ny</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hologram</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Create frequency coordinates</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fftfreq</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pixel_size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fftfreq</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ny</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pixel_size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    FX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> FY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">meshgrid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fy</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Calculate propagation phase factor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> wavelength</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    phase_factor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1j</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> k </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> distance </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">wavelength </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> FX</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">**</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">wavelength </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> FY</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">**</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Apply Fresnel propagation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hologram_fft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fft2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hologram</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reconstructed_fft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hologram_fft </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> phase_factor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    reconstructed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ifft2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reconstructed_fft</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> reconstructed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Example usage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wavelength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">532e-9</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Green light wavelength</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pixel_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2.4e-6</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Typical camera pixel size</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">distance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0.01</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># Reconstruction distance (negative for refocusing)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Load and process hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hologram.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reconstructed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> reconstruct_inline_hologram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wavelength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pixel_size</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">figure</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">figsize</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imshow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cmap</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;gray&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Original Hologram&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imshow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reconstructed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cmap</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;gray&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Reconstructed Amplitude&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subplot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imshow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">angle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reconstructed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cmap</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;hsv&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Reconstructed Phase&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-imswitch-integration">4.2: ImSwitch Integration<a class="hash-link" href="#42-imswitch-integration" title="Direct link to heading">​</a></h3><p>For real-time reconstruction:</p><ol><li>Install ImSwitch software with holography plugins</li><li>Configure camera connection in ImSwitch</li><li>Set reconstruction parameters (wavelength, distances)</li><li>Enable real-time processing for live focusing</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="43-advanced-processing">4.3: Advanced Processing<a class="hash-link" href="#43-advanced-processing" title="Direct link to heading">​</a></h3><p>Implement additional processing steps:</p><ul><li><strong>Background subtraction</strong>: Remove illumination variations</li><li><strong>Noise filtering</strong>: Apply appropriate image filters</li><li><strong>Multi-distance reconstruction</strong>: Focus stacking for extended depth</li><li><strong>Phase unwrapping</strong>: Extract quantitative phase information</li></ul><p><strong>TODO</strong>: Add specific ImSwitch configuration files and parameters</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="experiment-1-basic-hologram-recording-and-reconstruction">Experiment 1: Basic Hologram Recording and Reconstruction<a class="hash-link" href="#experiment-1-basic-hologram-recording-and-reconstruction" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-capture-reference-holograms">1.1: Capture Reference Holograms<a class="hash-link" href="#11-capture-reference-holograms" title="Direct link to heading">​</a></h3><ol><li>Start with no sample to establish background</li><li>Record intensity pattern from pure illumination</li><li>Note any interference fringes or artifacts</li><li>Save reference image for background subtraction</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-sample-hologram-acquisition">1.2: Sample Hologram Acquisition<a class="hash-link" href="#12-sample-hologram-acquisition" title="Direct link to heading">​</a></h3><ol><li>Insert sparse sample (dust, pollen, or cells)</li><li>Capture hologram showing interference fringes</li><li>Verify sufficient contrast and fringe visibility</li><li>Record multiple images at different positions</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-basic-reconstruction">1.3: Basic Reconstruction<a class="hash-link" href="#13-basic-reconstruction" title="Direct link to heading">​</a></h3><ol><li>Load hologram image into reconstruction software</li><li>Set appropriate wavelength and distance parameters</li><li>Perform reconstruction at the sample plane</li><li>Compare with direct sample observation</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="experiment-2-multi-distance-reconstruction">Experiment 2: Multi-Distance Reconstruction<a class="hash-link" href="#experiment-2-multi-distance-reconstruction" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-focus-stacking">2.1: Focus Stacking<a class="hash-link" href="#21-focus-stacking" title="Direct link to heading">​</a></h3><ol><li>Reconstruct at multiple distances around the sample plane</li><li>Create focus stack to visualize 3D structure</li><li>Identify optimal focus distance for each sample feature</li><li>Generate extended depth-of-field image</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-3d-visualization">2.2: 3D Visualization<a class="hash-link" href="#22-3d-visualization" title="Direct link to heading">​</a></h3><ol><li>Map focused features at different depths</li><li>Create 3D representation of sample structure</li><li>Measure feature positions and sizes</li><li>Compare with theoretical expectations</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-resolution-analysis">2.3: Resolution Analysis<a class="hash-link" href="#23-resolution-analysis" title="Direct link to heading">​</a></h3><ol><li>Measure resolution using known test samples</li><li>Compare with theoretical resolution limits</li><li>Identify factors limiting resolution</li><li>Optimize system parameters for best performance</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="experiment-3-quantitative-analysis">Experiment 3: Quantitative Analysis<a class="hash-link" href="#experiment-3-quantitative-analysis" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-phase-imaging">3.1: Phase Imaging<a class="hash-link" href="#31-phase-imaging" title="Direct link to heading">​</a></h3><ol><li>Extract phase information from complex reconstruction</li><li>Unwrap phase data to obtain continuous values</li><li>Convert phase to optical path differences</li><li>Measure sample thickness or refractive index</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-particle-analysis">3.2: Particle Analysis<a class="hash-link" href="#32-particle-analysis" title="Direct link to heading">​</a></h3><ol><li>Use automated detection algorithms</li><li>Measure particle sizes and positions</li><li>Analyze size distributions</li><li>Track particle motion (if applicable)</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-comparative-studies">3.3: Comparative Studies<a class="hash-link" href="#33-comparative-studies" title="Direct link to heading">​</a></h3><ol><li>Compare holographic and conventional microscopy</li><li>Analyze advantages and limitations</li><li>Determine optimal sample types and conditions</li><li>Document measurement accuracy and precision</li></ol><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="safety-guidelines-and-best-practices">Safety Guidelines and Best Practices<a class="hash-link" href="#safety-guidelines-and-best-practices" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-laboratory-safety">General Laboratory Safety<a class="hash-link" href="#general-laboratory-safety" title="Direct link to heading">​</a></h3><ul><li><strong>Clean optical surfaces carefully</strong> using appropriate lens tissues and solutions</li><li><strong>Handle samples properly</strong> to avoid contamination</li><li><strong>Store equipment safely</strong> when not in use</li><li><strong>Document all experimental parameters</strong> for reproducibility</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-management">Data Management<a class="hash-link" href="#data-management" title="Direct link to heading">​</a></h3><ul><li><strong>Save raw holograms</strong> in uncompressed formats when possible</li><li><strong>Record all experimental parameters</strong> (distances, wavelengths, settings)</li><li><strong>Back up important data</strong> regularly</li><li><strong>Document reconstruction parameters</strong> for future reference</li></ul><p><strong>TODO</strong>: Add specific safety protocols for biological samples</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting-guide">Troubleshooting Guide<a class="hash-link" href="#troubleshooting-guide" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-problems-and-solutions">Common Problems and Solutions<a class="hash-link" href="#common-problems-and-solutions" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="problem-no-interference-fringes-visible">Problem: No Interference Fringes Visible<a class="hash-link" href="#problem-no-interference-fringes-visible" title="Direct link to heading">​</a></h4><p><strong>Possible Causes:</strong></p><ul><li>Insufficient coherence</li><li>Poor pinhole quality</li><li>Excessive background light</li><li>Wrong sample-detector distance</li></ul><p><strong>Solutions:</strong></p><ol><li>Check pinhole size and quality</li><li>Improve light source coherence</li><li>Better environmental light control</li><li>Adjust geometric parameters</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="problem-poor-reconstruction-quality">Problem: Poor Reconstruction Quality<a class="hash-link" href="#problem-poor-reconstruction-quality" title="Direct link to heading">​</a></h4><p><strong>Possible Causes:</strong></p><ul><li>Incorrect reconstruction parameters</li><li>JPEG compression artifacts</li><li>Twin image interference</li><li>Phase retrieval errors</li></ul><p><strong>Solutions:</strong></p><ol><li>Verify wavelength and distance values</li><li>Use uncompressed image formats</li><li>Apply twin image suppression algorithms</li><li>Improve phase reconstruction methods</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="problem-low-image-contrast">Problem: Low Image Contrast<a class="hash-link" href="#problem-low-image-contrast" title="Direct link to heading">​</a></h4><p><strong>Possible Causes:</strong></p><ul><li>Dense sample scattering</li><li>Improper illumination</li><li>Background interference</li><li>Camera settings</li></ul><p><strong>Solutions:</strong></p><ol><li>Use sparser samples</li><li>Optimize illumination uniformity</li><li>Implement background subtraction</li><li>Adjust camera exposure and gain</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="problem-unstable-results">Problem: Unstable Results<a class="hash-link" href="#problem-unstable-results" title="Direct link to heading">​</a></h4><p><strong>Possible Causes:</strong></p><ul><li>Environmental vibrations</li><li>Temperature fluctuations</li><li>Air current interference</li><li>Mechanical instability</li></ul><p><strong>Solutions:</strong></p><ol><li>Improve vibration isolation</li><li>Control environmental conditions</li><li>Enclose optical system</li><li>Secure all mechanical connections</li></ol><p><strong>TODO</strong>: Add troubleshooting for specific software issues</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="assessment-questions">Assessment Questions<a class="hash-link" href="#assessment-questions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conceptual-understanding">Conceptual Understanding<a class="hash-link" href="#conceptual-understanding" title="Direct link to heading">​</a></h3><ol><li><p><strong>Holography Principles:</strong></p><ul><li>Explain the difference between inline and off-axis holography</li><li>Describe how phase information is encoded in interference patterns</li><li>Why is coherent illumination essential for holographic imaging?</li></ul></li><li><p><strong>Digital Reconstruction:</strong></p><ul><li>Describe the role of FFT in holographic reconstruction</li><li>Explain the twin image problem and potential solutions</li><li>How does reconstruction distance affect image focus?</li></ul></li><li><p><strong>System Design:</strong></p><ul><li>Compare advantages and disadvantages with conventional microscopy</li><li>What factors limit the resolution of inline holography?</li><li>How would you optimize the system for different sample types?</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="problem-solving-exercises">Problem-Solving Exercises<a class="hash-link" href="#problem-solving-exercises" title="Direct link to heading">​</a></h3><ol><li><p><strong>Parameter Optimization:</strong></p><ul><li>Calculate optimal pinhole size for given source-sample distance</li><li>Determine reconstruction distance for best focus</li><li>Estimate theoretical resolution for your system</li></ul></li><li><p><strong>Application Design:</strong></p><ul><li>Design modifications for flowing sample analysis</li><li>Adapt system for different wavelength operation</li><li>Integrate with automated sample handling</li></ul></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extension-projects">Extension Projects<a class="hash-link" href="#extension-projects" title="Direct link to heading">​</a></h3><ol><li><p><strong>Advanced Techniques:</strong></p><ul><li>Implement machine learning for artifact removal</li><li>Develop real-time processing algorithms</li><li>Explore multi-wavelength holography</li></ul></li><li><p><strong>Research Applications:</strong></p><ul><li>Apply to biological sample analysis</li><li>Study dynamic processes in microfluidics</li><li>Investigate materials characterization applications</li></ul></li></ol><p><strong>TODO</strong>: Add specific calculation examples and expected results
<strong>TODO</strong>: Include links to current research and applications</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources-and-references">Resources and References<a class="hash-link" href="#resources-and-references" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="historical-context">Historical Context<a class="hash-link" href="#historical-context" title="Direct link to heading">​</a></h3><ul><li><strong>Dennis Gabor (1948)</strong>: Invented holography, Nobel Prize 1971</li><li><strong>Fresnel and Kirchhoff</strong>: Diffraction theory foundations</li><li><strong>Digital holography development</strong>: 1990s computational advances</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="modern-applications">Modern Applications<a class="hash-link" href="#modern-applications" title="Direct link to heading">​</a></h3><ul><li><strong>Medical diagnostics</strong>: Point-of-care blood analysis</li><li><strong>Environmental monitoring</strong>: Plankton studies and water quality</li><li><strong>Industrial inspection</strong>: Quality control and defect detection</li><li><strong>Space applications</strong>: Compact imaging systems for satellites</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="further-reading">Further Reading<a class="hash-link" href="#further-reading" title="Direct link to heading">​</a></h3><ul><li>Principles of Optics - Born &amp; Wolf</li><li>Digital Holography and Digital Image Processing - Schnars &amp; Jüptner</li><li>Current research papers in Applied Optics and Optics Letters</li></ul><p><strong>TODO</strong>: Add specific links to current research papers and applications
<strong>TODO</strong>: Include bibliography of recommended textbooks and resources</p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="known-limitations-and-future-improvements">Known Limitations and Future Improvements<a class="hash-link" href="#known-limitations-and-future-improvements" title="Direct link to heading">​</a></h3><p><strong>Current Limitations:</strong></p><ul><li>Twin image artifacts in reconstruction</li><li>Limited resolution compared to conventional microscopy</li><li>Requirement for sparse samples</li><li>Sensitivity to environmental disturbances</li></ul><p><strong>Potential Improvements:</strong></p><ul><li>Machine learning artifact removal</li><li>Advanced phase retrieval algorithms</li><li>Multi-wavelength techniques</li><li>Improved vibration isolation</li></ul><p><strong>TODO</strong>: Add development roadmap for system improvements</p><ol><li><p><strong>Creating the Light Source</strong>
The holographic microscope begins with a specially prepared light source. An LED, filtered through a gel color filter and focused through a pinhole in aluminum foil, generates quasi-monochromatic coherent light. This coherent light source is essential for the interference patterns necessary for holography.</p></li><li><p><strong>Sample and Camera Setup</strong>
A transparent sample is placed in the path of the coherent light source. As the light passes through the sample, it becomes scattered, creating a complex wavefront. The camera, integrated into the same cube as the sample holder, captures this scattered light as an interference pattern, known as the hologram.</p></li><li><p><strong>Fresnel Propagation</strong>
When the scattered light reaches the camera sensor, it captures the intensity of the interference pattern. In inline holography, both the object and reference beams travel along the same path to the sensor, causing them to interfere. The Fresnel propagation is used to numerically propagate the hologram from the sensor plane to the object plane and vice versa.</p><p>Fresnel propagation is a mathematical process that simulates the propagation of light waves between two planes. It utilizes the Fresnel-Kirchhoff diffraction integral to calculate the complex wavefront at a given distance from the hologram plane. This numerical transformation involves the Fast Fourier Transform (FFT), which efficiently converts the hologram from spatial to frequency coordinates.</p></li><li><p><strong>Fast Fourier Transform (FFT)</strong>
The FFT is a powerful algorithm used to compute the discrete Fourier transform of an image. It efficiently calculates the frequency components present in an image, providing valuable information about its structure. In our holographic microscope, the FFT is used to transform the captured hologram from real space to frequency space.</p><p>The transformed hologram in frequency space contains complex information about the sample&#x27;s phase and amplitude. However, due to the lensless nature of the microscope, the phase information is lost during the hologram capture process. As a result, additional artifacts, such as the twin-image and ringing artifacts, can occur during hologram reconstruction.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assembly-steps">Assembly Steps<a class="hash-link" href="#assembly-steps" title="Direct link to heading">​</a></h3><ol><li><p><strong>Creating the Light Source</strong></p><ul><li>Attach the LED holder to one side of a cube using the provided puzzle pieces.</li><li>Insert the LED into the holder and connect it to an appropriate power source or use the battery-driven one without external power.</li><li>Produce a pinhole using aluminium foil: Take a needle, fold the aluminium foil 8 times, punch a hole, unfold the foil and take the smallest hole that is still intact</li><li>Position the aluminum foil with a pinhole in front of the LED-light source, allowing the light to pass through the pinhole   </li><li>Place the gel color filter in front of the aluminium foil to create a quasi-monochromatic coherent light source.
.</li></ul></li><li><p><strong>Setting Up the Sample and Camera</strong></p><ul><li>Place an empty cube right next to the light source cube.</li><li>Position another empty cube on the other side of the light source cube.</li><li>Combine the transparent sample mount and the camera module into a single cube. Mount the sample onto the camera sensor surface, ensuring that there is little space between them.</li></ul></li><li><p><strong>Assembling the Microscope</strong></p><ul><li>Arrange the cubes in the following order (from left to right): Light Source Cube, Empty Cube, Empty Cube, Sample &amp; Camera Cube.</li><li>Securely mount each cube on puzzle pieces at the lower end and upper bar using the puzzle pieces to ensure stability.</li></ul></li><li><p><strong>Powering Up the Microscope</strong></p><ul><li>Use the ESP32 camera inside the cube and flash the XIAO firmware</li><li>The link comes here: <a href="https://matchboxscope.github.io/firmware/FLASH.html" target="_blank" rel="noopener noreferrer">https://matchboxscope.github.io/firmware/FLASH.html</a></li><li>Turn on the camera and connect to it via Wi-Fi (the Wifi SSID is Matchboxscope-****, where the number is displayed during boot-up phase in the serial monitor after the flashing process) using a web app or browser (<a href="http://192.168.4.1" target="_blank" rel="noopener noreferrer">http://192.168.4.1</a>)</li><li>Power on the LED light source.</li></ul></li><li><p><strong>Adjusting the Contrast</strong></p><ul><li>Check the camera&#x27;s output for the captured image.</li><li>If the contrast is low due to scattering background light, cover the system with a box or use some shading to prevent direct light from hitting the sensor.</li></ul></li><li><p><strong>Reconstructing the Hologram</strong></p><ul><li>Capture an image using the ESP32 camera and download it onto your computer (full resolution, i.e. 1600x1200, the capture button in the GUI will offer to download the image, give it some name and save it).</li><li>Start the Jupiter notebook server in the command line.</li><li>(Installation: <code>pip install jupyterlab</code> and then start it using <code>jupyterlab</code>)</li><li>Create a new Jupiter notebook for hologram reconstruction (see step 7)</li><li>Input the path to the downloaded image file in the notebook.</li><li>Reconstruct the hologram using a fast Fourier transform (FFT) and numerical back-propagation.</li><li>Be aware of twin-image artifacts and potential ringing artifacts in the reconstruction due to interference.</li></ul></li><li><p><strong>Create a Jupyter notebook and reconstruct the images</strong></p></li></ol><p>The following code will help you go through the process. Create a new Jupyter Notebook, change the path to the file and try it out.</p><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Import necessary libraries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> io </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BytesIO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define a function to reconstruct inline hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reconstruct_inline_hologram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hologram</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wavelength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Inverse space</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Nx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hologram</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Number of columns in the hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ny </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> hologram</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Number of rows in the hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linspace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Nx</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Nx</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Nx</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ps</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">Nx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Nx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linspace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Ny</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ps</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">Ny</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Ny</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ps</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">Ny</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Ny</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Fx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Fy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">meshgrid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fy</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Calculate the kernel using the wavelength and distance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    kernel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1j</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> wavelength</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> distance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1j</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pi </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> wavelength </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> distance </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Fx</span><span class="token operator" style="color:#393A34">**</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> Fy</span><span class="token operator" style="color:#393A34">**</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Compute the centered FFT of the hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    E0fft </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fftshift</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hologram</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Multiply the spectrum with the Fresnel phase factor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    G </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kernel </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> E0fft</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Ef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ifft2</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fft</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ifftshift</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">G</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Return the absolute value of the reconstructed hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Ef</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define an asynchronous function to process the image and reconstruct the hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">process</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> distance</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.007</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wavelength</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">450e-9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pixelsize</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5e-6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    holo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> reconstruct_inline_hologram</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wavelength</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">wavelength</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ps</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">pixelsize</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> distance</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">distance</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> holo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Main function that can be used to continuously process images (currently empty loop)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Properly call the process function with required parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Here, you should include the logic to process the images as required</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Read an image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/PATH/TO/IMAGE/image.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Process the red channel (index 2) of the image to reconstruct the hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">holo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Display the reconstructed hologram</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">imshow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">abs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">holo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assembly-video">Assembly Video<a class="hash-link" href="#assembly-video" title="Direct link to heading">​</a></h3><p>In <a href="https://youtu.be/2P4FSSlXXQA" target="_blank" rel="noopener noreferrer">this video</a> you will learn how to setup a UC2 system and also how to build the holographic Microscope</p><p><img loading="lazy" src="/assets/images/YoutubeHolo-72f6702342001bdb6f76f7d24dc43082.png" width="2904" height="1746" class="img_ev3q">
<a href="https://youtu.be/2P4FSSlXXQA" target="_blank" rel="noopener noreferrer">https://youtu.be/2P4FSSlXXQA</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">​</a></h3><p>Congratulations! You have successfully built an inline holographic microscope using the UC2 modular microscope toolbox. This simple yet powerful setup allows you to observe transparent samples and explore the fascinating world of holography and coherent light sources. By understanding the principles of Fresnel propagation and Fast Fourier Transform, you can reconstruct digital holograms and visualize 3D structures in your samples. Have fun experimenting with different samples and refining your holographic imaging techniques!</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="known-problems">Known Problems<a class="hash-link" href="#known-problems" title="Direct link to heading">​</a></h3><ul><li>distance between sensor/sample</li><li>stray Light</li><li>sample not sparse enough</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="very-experimental-reconstruct-holograms-with-imswitch">Very Experimental: Reconstruct Holograms with ImSwitch<a class="hash-link" href="#very-experimental-reconstruct-holograms-with-imswitch" title="Direct link to heading">​</a></h3><p><strong><em>Prerequirements</em></strong>
Here you will finde a guide how to setup the ImSwitch Software:</p><ul><li>Download the Software package from <a href="https://www.dropbox.com/sh/pea63wifrq3edsl/AAChzXEGA55uUt2Kjxxfk_Dka?dl=0" target="_blank" rel="noopener noreferrer">Dropbox</a></li><li>Install Anaconda (<em>Important:</em> When you&#x27;re asked to add Anaconda to the <code>PATH</code> environment, say <code>YES</code>!)</li><li>Install Arduino + all drivers</li><li>Install the CH340 driver</li><li>Extract <code>ImSwitch.zip</code> to <code>/User/$USER$/Documents/ImSwitch</code> (clone or download from <a href="https://github.com/beniroquai/ImSwitch" target="_blank" rel="noopener noreferrer">GitHub</a>)</li><li>Extract <code>ImSwitchConfig.zip</code> to <code>/User/$USER$/Documents/ImSwitchConfig</code> (clone or download from <a href="https://github.com/beniroquai/ImSwitchConfig" target="_blank" rel="noopener noreferrer">GitHub</a>)</li><li><em>Optional</em>: Install Visual Studio Code + the Python plugin =&gt; setup the Visual studio code IDE for Python</li></ul><p><strong><em>Install ImSwitch for UC2</em></strong></p><ul><li>Open the anaconda command (Windows + R =&gt; &quot;CMD&quot; =&gt; enter)</li><li>Type: <code>conda create -n imswitch</code></li><li>Wait until environment is created</li><li>Type: <code>conda activate imswitch</code></li><li>Type: <code>cd /User/$USER$/Documents/ImSwitch</code></li><li>Type: <code>pip intall -r requirements.txt</code></li><li>Type: <code>pip intall -e ./</code></li><li>Type: <code>imswitch</code></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reconstruction">Reconstruction<a class="hash-link" href="#reconstruction" title="Direct link to heading">​</a></h4><p>This video will show you how to reconstruct holographic data using UC2 and ImSwitch.</p><p><img loading="lazy" src="/assets/images/YoutubeHoloRecon-7588982ca4217f5d8e223131c9d43cc9.png" width="2904" height="1714" class="img_ev3q">
<a href="https://youtu.be/CWXx0Dw-Jro" target="_blank" rel="noopener noreferrer">https://youtu.be/CWXx0Dw-Jro</a></p><p><em>Things to explore:</em></p><ul><li>Get Familiar with ImSwitch</li><li>Get a sparse sample e.g. plankton on coverslip would be best, or just dust/sand/cheeck cells and try to acquire some holograms</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="refocusing-using-imswitch">Refocusing using ImSwitch<a class="hash-link" href="#refocusing-using-imswitch" title="Direct link to heading">​</a></h4><p>Using the In-line Holography plug-in widget in ImSwitch we can refocus the sample by using a propagator in reverse from the recorded hologram in real-time.</p><p><img loading="lazy" src="/assets/images/Set_up-1d9741a02e9c94847096f44a74e242cb.png" width="206" height="256" class="img_ev3q">
<img loading="lazy" src="/assets/images/Refocus-14dbea0d2fde7c2db1bd7cecb93c3569.gif" width="600" height="338" class="img_ev3q"></p><p>The In-line holography experiment can also be produced with a laser source. In this version of the In-line holography setup, we use white light as source and we use filters to have quasi-monochromatic light illuminating the sample.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="additional-speach-to-text">ADDITIONAL Speach-to-text<a class="hash-link" href="#additional-speach-to-text" title="Direct link to heading">​</a></h4><p>The first experiment will be the inline holographic microscope. This is a relatively simple experiment where we can show both the temporal and especially coherence. We will create a lensless microscope where we use an LED that is filtered by a color filter and pinhole to create a quasi one of chromatic coherent light source. This is then illuminating the transparent sample that is sparse before the scattered wave is sitting the camera sensor. This is relatively simple to build with the C2 system; for this, we only need the LED holder, a gel color filter, as it sees from theaters, aluminum foil where we&#x27;ll stitch in a hole in order to create a local pinhole, some space between this created light source and the sample, and then the sample that this ultimately glued onto the sensor very closely so that the pinhole virtually scales in size as the ratio between the distance of the light source to the sample and sample to the sensor. In order to build the system, we will place the here created light source on the far left; then another empty cube follows right next to it; then another empty cube follows on the right-hand side; and then we combine the sample mount and the camera into one cube so that the distance between the sample and the camera is minimized. All these cubes should be mounted on puzzle pieces on the lower end and the upper bar so that the whole system becomes stable. We will turn on the camera and also turn on the lights source. Then we go to the web app after connecting to the camera through Wi-Fi, and then we will try to see any variation in the contrast of the camera. If the contrast is not high enough because of this scattering background light, we have to cover the system with a box or with some closing so that there&#x27;s no straight lights hitting the sensor. This will make a very bad result in the reconstruction. When you&#x27;re lucky, you can see the sample as a kind of shadow on the sensor already. The core idea now is to reconstruct this digital hologram, where we have to carefully maximize the quality of the file image. Compression artifacts from the ESP32 camera are unavoidable and will eventually degrade the final image results. What we are going to do now is to temper in image and then back propagate the distance from the sensor to the sandal plane using a numerical transformation. What this really means is that we take the image and take every pixel and back propagated by a certain distance numerically. This is done using a fast-year transform where we first fiatransform the image so that it is in frequency space; then we multiply it with a parabolic face Factor, and then we inverse full-year transform the results to end up in real space again. This becomes a convolution of the Fresnel colonel, which essentially propagates every pixel edge of certain distance depending on the wavelength and sampling rate. We can conveniently do that in Python with the Script that is provided by the Jupiter notebook. For this, we go to the website of the ESP32, hit the capture button, and download the image onto the computer. Then we start the Jupiter notebook server by opening the command line in Windows or in Linux and enter Jupiter notebook. Then we go to the browser and open the example Jupiter notebook that will reconstruct our hologram. We will enter the path of our downloaded image file and then reconstruct the results. There are several problems which we can describe but not solve at the moment for stop inland holography, as the name already says, has the problem that the light source and the scattered wave interfere in line. That means the point source will create spherical waves that are propagating its free space and will become almost a plain wave when it&#x27;s the sample. Here some parts of the wave are scattered where which means that a plane wave is altered in its face depending on the face of the microscopic example, and some portion of the wave is an altered. That means after the sample the unchecked and scattered wave are propagating to the sensor where the two amplitudes are superposing. That means they add up for stuff since our camera detector cannot record amplitudes since the object of frequency is very very high. We are averaging out over time. That means that we will record intensity values in the end. This also means that the information about the face is getting lost. When we are reconstructing the hologram, the color will differentiate whether the sample is before or behind the sensor since the face information is that anymore. This means that in the reconstruction, the so-called twin image always overlays the real image in the end. This causes an avoidable ringing artifacts in the reconstruction. There are some ways to remove it, for example by estimating the face using iterative algorithms or model-based approaches, where we take the full image acquisition process into account. Alternatively, suit also be machine learning algorithms where an algorithm estimates the background and remove these artifacts. However, here we won&#x27;t use these algorithms as we just want to learn how we can reconstruct the simple.</p><p>Some notes on the transform that we have just used here. Briefly, it is a transformation from spatial to frequency coordinates. This sounds very abstract, but for example, our ear does this all the time. When we talk, our voice generates a vibration of the air. That means different frequencies are oscillating and add up to something like noise. Our ear, in turn, has the cochlear where many nerve cells, in turn, are oscillating depending on the resonance frequency of every cell. In a way, they are unmixing the noise and modulate the different frequencies. That means that if you&#x27;re singing like an A, there is the fundamental frequency and several higher and lower harmonics. And lens does something very similar but in two dimensions. You can have optical frequencies where, for example, a grating that is having stripes that represent on and off and on and off</p><p> at a certain distance represent periodic structure. It lens when you place something in the focal plane will then flea transform this into the demodulated frequency components. When you, for example, have a periodic structure like a grating, it will produce two pieces in its Fourier transform or in its focal length on the object side. A fast Fourier transform is its equivalent in the computational science. You can take an image and then represent it in its frequency components for stock that means it tries to estimate the sum of all the different frequency components that make up the image. We use this fast Fourier transform in our code to bring it from real space to frequency space and back again. But since we start with an image without an amplitude or without the face, lack the information.</p><p>This property creates additional artifacts since relax the information of the face when we record intensity values on our camera, we also limited to samples that I see like just for the tomt capture in the watcher. The optical resolution of our microscope is bound to the pixel size and the opening angle or the numerical aperture that is created by the illumination and the sensor size that we use to detect the image. However, it is a very nice way of demonstrating how long profil works and how we can detect images without a lens. For stop many different have used it, for example, to detect Malaria in blood. New sins the field of view is very Deutsch.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Toolboxes/DiscoveryFluorescence/Alligment of the LED-Mikroscope"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Alligment of the LED-Mikroscope</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Toolboxes/LightsheetBox/Light_sheet_Fluoresence_microscope"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">openUC2 light sheet fluoresence microscope</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#materials-needed" class="table-of-contents__link toc-highlight">Materials Needed</a></li><li><a href="#diagram" class="table-of-contents__link toc-highlight">Diagram</a></li><li><a href="#theory-of-operation" class="table-of-contents__link toc-highlight">Theory of Operation</a></li><li><a href="#theoretical-background" class="table-of-contents__link toc-highlight">Theoretical Background</a></li><li><a href="#tutorial-inline-holographic-microscope-setup" class="table-of-contents__link toc-highlight">Tutorial: Inline Holographic Microscope Setup</a></li><li><a href="#step-1-assemble-the-optical-components" class="table-of-contents__link toc-highlight">Step 1: Assemble the Optical Components</a><ul><li><a href="#safety-instructions" class="table-of-contents__link toc-highlight">SAFETY INSTRUCTIONS</a></li><li><a href="#11-prepare-the-illumination-source" class="table-of-contents__link toc-highlight">1.1: Prepare the Illumination Source</a></li><li><a href="#12-build-the-base-configuration" class="table-of-contents__link toc-highlight">1.2: Build the Base Configuration</a></li><li><a href="#13-position-the-sample" class="table-of-contents__link toc-highlight">1.3: Position the Sample</a></li><li><a href="#14-optimize-source-sample-detector-geometry" class="table-of-contents__link toc-highlight">1.4: Optimize Source-Sample-Detector Geometry</a></li></ul></li><li><a href="#step-2-electronics" class="table-of-contents__link toc-highlight">Step 2: Electronics</a><ul><li><a href="#21-esp32-camera-setup" class="table-of-contents__link toc-highlight">2.1: ESP32 Camera Setup</a></li><li><a href="#22-camera-software-configuration" class="table-of-contents__link toc-highlight">2.2: Camera Software Configuration</a></li></ul></li><li><a href="#step-3-alignment-and-optimization" class="table-of-contents__link toc-highlight">Step 3: Alignment and Optimization</a><ul><li><a href="#31-system-alignment" class="table-of-contents__link toc-highlight">3.1: System Alignment</a></li><li><a href="#32-environmental-optimization" class="table-of-contents__link toc-highlight">3.2: Environmental Optimization</a></li><li><a href="#33-sample-optimization" class="table-of-contents__link toc-highlight">3.3: Sample Optimization</a></li></ul></li><li><a href="#step-4-digital-reconstruction-imswitch-integration" class="table-of-contents__link toc-highlight">Step 4: Digital Reconstruction (ImSwitch Integration)</a><ul><li><a href="#41-basic-python-reconstruction" class="table-of-contents__link toc-highlight">4.1: Basic Python Reconstruction</a></li><li><a href="#42-imswitch-integration" class="table-of-contents__link toc-highlight">4.2: ImSwitch Integration</a></li><li><a href="#43-advanced-processing" class="table-of-contents__link toc-highlight">4.3: Advanced Processing</a></li></ul></li><li><a href="#experiment-1-basic-hologram-recording-and-reconstruction" class="table-of-contents__link toc-highlight">Experiment 1: Basic Hologram Recording and Reconstruction</a><ul><li><a href="#11-capture-reference-holograms" class="table-of-contents__link toc-highlight">1.1: Capture Reference Holograms</a></li><li><a href="#12-sample-hologram-acquisition" class="table-of-contents__link toc-highlight">1.2: Sample Hologram Acquisition</a></li><li><a href="#13-basic-reconstruction" class="table-of-contents__link toc-highlight">1.3: Basic Reconstruction</a></li></ul></li><li><a href="#experiment-2-multi-distance-reconstruction" class="table-of-contents__link toc-highlight">Experiment 2: Multi-Distance Reconstruction</a><ul><li><a href="#21-focus-stacking" class="table-of-contents__link toc-highlight">2.1: Focus Stacking</a></li><li><a href="#22-3d-visualization" class="table-of-contents__link toc-highlight">2.2: 3D Visualization</a></li><li><a href="#23-resolution-analysis" class="table-of-contents__link toc-highlight">2.3: Resolution Analysis</a></li></ul></li><li><a href="#experiment-3-quantitative-analysis" class="table-of-contents__link toc-highlight">Experiment 3: Quantitative Analysis</a><ul><li><a href="#31-phase-imaging" class="table-of-contents__link toc-highlight">3.1: Phase Imaging</a></li><li><a href="#32-particle-analysis" class="table-of-contents__link toc-highlight">3.2: Particle Analysis</a></li><li><a href="#33-comparative-studies" class="table-of-contents__link toc-highlight">3.3: Comparative Studies</a></li></ul></li><li><a href="#safety-guidelines-and-best-practices" class="table-of-contents__link toc-highlight">Safety Guidelines and Best Practices</a><ul><li><a href="#general-laboratory-safety" class="table-of-contents__link toc-highlight">General Laboratory Safety</a></li><li><a href="#data-management" class="table-of-contents__link toc-highlight">Data Management</a></li></ul></li><li><a href="#troubleshooting-guide" class="table-of-contents__link toc-highlight">Troubleshooting Guide</a><ul><li><a href="#common-problems-and-solutions" class="table-of-contents__link toc-highlight">Common Problems and Solutions</a></li></ul></li><li><a href="#assessment-questions" class="table-of-contents__link toc-highlight">Assessment Questions</a><ul><li><a href="#conceptual-understanding" class="table-of-contents__link toc-highlight">Conceptual Understanding</a></li><li><a href="#problem-solving-exercises" class="table-of-contents__link toc-highlight">Problem-Solving Exercises</a></li><li><a href="#extension-projects" class="table-of-contents__link toc-highlight">Extension Projects</a></li></ul></li><li><a href="#resources-and-references" class="table-of-contents__link toc-highlight">Resources and References</a><ul><li><a href="#historical-context" class="table-of-contents__link toc-highlight">Historical Context</a></li><li><a href="#modern-applications" class="table-of-contents__link toc-highlight">Modern Applications</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a></li><li><a href="#known-limitations-and-future-improvements" class="table-of-contents__link toc-highlight">Known Limitations and Future Improvements</a></li><li><a href="#assembly-steps" class="table-of-contents__link toc-highlight">Assembly Steps</a></li><li><a href="#assembly-video" class="table-of-contents__link toc-highlight">Assembly Video</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#known-problems" class="table-of-contents__link toc-highlight">Known Problems</a></li><li><a href="#very-experimental-reconstruct-holograms-with-imswitch" class="table-of-contents__link toc-highlight">Very Experimental: Reconstruct Holograms with ImSwitch</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://youseetoo.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discourse<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/OpenUc2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/openuc2/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 openUC2.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8b6a491d.js"></script>
<script src="/assets/js/main.0ee2f2f0.js"></script>
</body>
</html>