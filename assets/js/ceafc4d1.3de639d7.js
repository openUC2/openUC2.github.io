"use strict";(self.webpackChunkuc_2_docs=self.webpackChunkuc_2_docs||[]).push([[178],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(n),h=i,g=u["".concat(s,".").concat(h)]||u[h]||m[h]||r;return n?a.createElement(g,l(l({ref:t},c),{},{components:n})):a.createElement(g,l({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:i,l[1]=o;for(var p=2;p<r;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},40549:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));const r={},l="Quickstart Guide: Using Raspberry Pi with ImSwitch and UC2-ESP",o={unversionedId:"ImSwitch/ImSwitchOnRaspi",id:"ImSwitch/ImSwitchOnRaspi",title:"Quickstart Guide: Using Raspberry Pi with ImSwitch and UC2-ESP",description:"The Raspberry Pi serves as a bridge between the UC2-ESP board and a USB3 camera, running the ImSwitch software inside a Docker container. The system allows you to control the microscope through a web interface accessible from a phone or laptop.",source:"@site/docs/04_ImSwitch/ImSwitchOnRaspi.md",sourceDirName:"04_ImSwitch",slug:"/ImSwitch/ImSwitchOnRaspi",permalink:"/docs/ImSwitch/ImSwitchOnRaspi",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Install ImSwitch using the ImSwitch Installer (CONDA INSTALLER OUTDATED)",permalink:"/docs/ImSwitch/ImSwitchInstallerConda"},next:{title:"ImSwitchUpdate",permalink:"/docs/ImSwitch/ImSwitchUpdate"}},s={},p=[{value:"Getting Started",id:"getting-started",level:2},{value:"Raspberry Pi Login Credentials",id:"raspberry-pi-login-credentials",level:3},{value:"WiFi Hotspot",id:"wifi-hotspot",level:3},{value:"Accessing ImSwitch",id:"accessing-imswitch",level:3},{value:"Connecting via SSH",id:"connecting-via-ssh",level:3},{value:"Modifying ImSwitch Configuration",id:"modifying-imswitch-configuration",level:3},{value:"Hardware Setup",id:"hardware-setup",level:2},{value:"Installing Raspberry Pi OS &amp; ImSwitch",id:"installing-raspberry-pi-os--imswitch",level:2},{value:"<strong>Option 1: Manual Installation</strong>",id:"option-1-manual-installation",level:3},{value:"<strong>Step 1: Install Raspberry Pi OS</strong>",id:"step-1-install-raspberry-pi-os",level:4},{value:"<strong>Step 2: Connect to Raspberry Pi</strong>",id:"step-2-connect-to-raspberry-pi",level:4},{value:"<strong>Step 3: Install ImSwitch</strong>",id:"step-3-install-imswitch",level:4},{value:"<strong>Option 2: Using the Pre-Built Forklift Image</strong>",id:"option-2-using-the-pre-built-forklift-image",level:3},{value:"<strong>Requirements</strong>",id:"requirements",level:4},{value:"<strong>How to Use the Pre-Built Image:</strong>",id:"how-to-use-the-pre-built-image",level:4},{value:"<strong>Flashing the Image</strong>",id:"flashing-the-image",level:5},{value:"<strong>Default Credentials</strong>",id:"default-credentials",level:5},{value:"<strong>Connecting to the Raspberry Pi</strong>",id:"connecting-to-the-raspberry-pi",level:4},{value:"Configuring ImSwitch",id:"configuring-imswitch",level:4},{value:"Configure ImSwitch using the Cockpit",id:"configure-imswitch-using-the-cockpit",level:5},{value:"Alternatively edit the config via UC2-Menu",id:"alternatively-edit-the-config-via-uc2-menu",level:4},{value:"Troubleshooting pallet configurations",id:"troubleshooting-pallet-configurations",level:4},{value:"Summary",id:"summary",level:2},{value:"Troubleshooting &amp; Support",id:"troubleshooting--support",level:2}],c={toc:p};function m(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"quickstart-guide-using-raspberry-pi-with-imswitch-and-uc2-esp"},"Quickstart Guide: Using Raspberry Pi with ImSwitch and UC2-ESP"),(0,i.kt)("p",null,"The Raspberry Pi serves as a bridge between the UC2-ESP board and a USB3 camera, running the ImSwitch software inside a Docker container. The system allows you to control the microscope through a web interface accessible from a phone or laptop."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Note:")," This setup is experimental! You can try a demo version of the latest ImSwitch here:"),(0,i.kt)("ul",{parentName:"blockquote"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://imswitch.openuc2.com/imswitch/index.html"},"Live Demo")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://imswitch.openuc2.com/docs"},"ImSwitch API")))),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"getting-started"},"Getting Started"),(0,i.kt)("h3",{id:"raspberry-pi-login-credentials"},"Raspberry Pi Login Credentials"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Username:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"UC2")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Password:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"youseetoo"))),(0,i.kt)("p",null,"The system runs Raspberry Pi OS Lite and includes a Docker integration for ImSwitch. You can log in via SSH to start the ImSwitch server."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/openUC2/ImSwitchDockerInstall?tab=readme-ov-file#imswitch--docker-on-raspi"},"ImSwitch Docker Installation Guide")),(0,i.kt)("h3",{id:"wifi-hotspot"},"WiFi Hotspot"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"SSID:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"openuc2-RANDOMNUMBER")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Password:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"youseetoo"))),(0,i.kt)("p",null,"To configure the hotspot using RaspAP:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Open a browser and go to ",(0,i.kt)("a",{parentName:"li",href:"http://10.3.141.1/"},"http://10.3.141.1/")),(0,i.kt)("li",{parentName:"ol"},"Login with:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Username:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"admin")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Password:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"secret"))))),(0,i.kt)("h3",{id:"accessing-imswitch"},"Accessing ImSwitch"),(0,i.kt)("p",null,"If the Docker container starts automatically, access ImSwitch at:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://10.3.141.1:8001/imswitch/index.html"},"https://10.3.141.1:8001/imswitch/index.html")),(0,i.kt)("li",{parentName:"ul"},"Ignore self-signed certificate warnings (this will be fixed later).")),(0,i.kt)("h3",{id:"connecting-via-ssh"},"Connecting via SSH"),(0,i.kt)("p",null,"To manually start ImSwitch:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"ssh uc2@10.3.141.1  # Password: youseetoo\ncd ~/Desktop\n./launch_docker_container.sh\n")),(0,i.kt)("h3",{id:"modifying-imswitch-configuration"},"Modifying ImSwitch Configuration"),(0,i.kt)("p",null,"To adjust settings, edit the configuration file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"nano ~/ImSwitchConfig/config/imcontrol_options.json\n")),(0,i.kt)("p",null,"For example, changing the active setup file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "setupFileName": "example_uc2_vimba.json",\n    "recording": {\n        "outputFolder": "./ImSwitch/ImSwitch/recordings",\n        "includeDateInOutputFolder": true\n    }\n}\n')),(0,i.kt)("p",null,"More details: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/openUC2/imswitchconfig"},"ImSwitchConfig GitHub")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"hardware-setup"},"Hardware Setup"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Connect ",(0,i.kt)("strong",{parentName:"li"},"UC2-ESP Board")," via USB to the Raspberry Pi"),(0,i.kt)("li",{parentName:"ul"},"Connect ",(0,i.kt)("strong",{parentName:"li"},"USB3 Camera")," to Raspberry Pi")),(0,i.kt)("p",null,"To access ImSwitch via a browser:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Open: ",(0,i.kt)("a",{parentName:"li",href:"https://10.3.141.1:8001/imswitch/index.html"},"https://10.3.141.1:8001/imswitch/index.html"))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(98911).Z,width:"1920",height:"1032"})),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"installing-raspberry-pi-os--imswitch"},"Installing Raspberry Pi OS & ImSwitch"),(0,i.kt)("p",null,"There are two ways to set up the Raspberry Pi for ImSwitch:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Manual Installation")," (for full control over package installation)"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Pre-built Image")," (faster setup using a ready-made Raspberry Pi image)")),(0,i.kt)("h3",{id:"option-1-manual-installation"},(0,i.kt)("strong",{parentName:"h3"},"Option 1: Manual Installation")),(0,i.kt)("h4",{id:"step-1-install-raspberry-pi-os"},(0,i.kt)("strong",{parentName:"h4"},"Step 1: Install Raspberry Pi OS")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Download and install the Raspberry Pi Imager: ",(0,i.kt)("a",{parentName:"li",href:"https://www.raspberrypi.com/software/"},"Download Here"))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(64071).Z,width:"1106",height:"492"})),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"Flash ",(0,i.kt)("strong",{parentName:"li"},"Raspberry Pi OS 64-bit Bookworm Lite")," onto an SD card (64GB recommended for Raspberry Pi 5)."),(0,i.kt)("li",{parentName:"ol"},"Configure settings:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Enable SSH"),(0,i.kt)("li",{parentName:"ul"},"Set WiFi SSID and password"))),(0,i.kt)("li",{parentName:"ol"},"Insert the SD card into the Raspberry Pi and boot it up.")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(9889).Z,width:"748",height:"546"}),"\n",(0,i.kt)("img",{src:n(47783).Z,width:"792",height:"590"})),(0,i.kt)("h4",{id:"step-2-connect-to-raspberry-pi"},(0,i.kt)("strong",{parentName:"h4"},"Step 2: Connect to Raspberry Pi")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Wait ~5 minutes for booting."),(0,i.kt)("li",{parentName:"ol"},"Find the Raspberry Pi\u2019s IP address using:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://angryip.org/download"},"Angry IP Scanner")),(0,i.kt)("li",{parentName:"ul"},"A monitor connected via micro-HDMI")))),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(83337).Z,width:"782",height:"683"})),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Log in via SSH:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"ssh uc2@IP-OF-YOURRASPI\n")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(3974).Z,width:"1734",height:"927"})),(0,i.kt)("h4",{id:"step-3-install-imswitch"},(0,i.kt)("strong",{parentName:"h4"},"Step 3: Install ImSwitch")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Run the following commands:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"mkdir Downloads\nmkdir Desktop\nsudo apt-get install git -y\ncd ~/Downloads\ngit clone https://github.com/openUC2/ImSwitchDockerInstall\ncd ImSwitchDockerInstall\nchmod +x install_all.sh\n./install_all.sh\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"This will:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Install Docker"),(0,i.kt)("li",{parentName:"ul"},"Install necessary camera drivers (Allied Vision, HIK, Daheng)"),(0,i.kt)("li",{parentName:"ul"},"Set up ImSwitch via Docker"),(0,i.kt)("li",{parentName:"ul"},"Create startup files for launching ImSwitch"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Start ImSwitch:"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"bash ~/Desktop/launch_docker_container.sh\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"Access the interface at:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"https://IP-OF-YOUR-RASPI:8001/imswitch/index.html\n")),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},"Update ImSwitch when needed:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"bash ~/Desktop/update_docker_container.sh\n")),(0,i.kt)("hr",null),(0,i.kt)("h3",{id:"option-2-using-the-pre-built-forklift-image"},(0,i.kt)("strong",{parentName:"h3"},"Option 2: Using the Pre-Built Forklift Image")),(0,i.kt)("p",null,"This is a compiled image for the Raspberry Pi 5 to deploy ImSwitch in Docker.\xa0"),(0,i.kt)("p",null,"It is based on the following repository that builds the image file based on Raspberry Pi OS lite using GitHub Actions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/openuc2/imswitch-os/tree/main"},"ImSwitch OS Repository")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/openUC2/pallet"},"OpenUC2 Pallet Repository"))),(0,i.kt)("p",null,"The image is built from the following workflow:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/beniroquai/imswitch-os/actions/runs/13718023729"},"GitHub Actions Build"))),(0,i.kt)("h4",{id:"requirements"},(0,i.kt)("strong",{parentName:"h4"},"Requirements")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"microSD Card with >32GB"),(0,i.kt)("li",{parentName:"ul"},"Raspberry Pi 4 or preferably Pi 5 (8GB RAM recommended)"),(0,i.kt)("li",{parentName:"ul"},"microSD Card reader")),(0,i.kt)("p",null,"If you prefer a faster setup, you can use this ",(0,i.kt)("strong",{parentName:"p"},"pre-built image")," that includes all necessary software and drivers. This image was created with the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/forklift-run"},"Forklift Project")," and automates all setup steps."),(0,i.kt)("h4",{id:"how-to-use-the-pre-built-image"},(0,i.kt)("strong",{parentName:"h4"},"How to Use the Pre-Built Image:")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Download the image")," from Zenodo: ",(0,i.kt)("a",{parentName:"li",href:"https://zenodo.org/uploads/14988987"},"Zenodo Image Link")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Extract the image")," (~3GB as a ZIP, ~11GB uncompressed)."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Flash it to an SD card")," using ",(0,i.kt)("a",{parentName:"li",href:"https://www.raspberrypi.com/software/"},"Raspberry Pi Imager"),".")),(0,i.kt)("h5",{id:"flashing-the-image"},(0,i.kt)("strong",{parentName:"h5"},"Flashing the Image")),(0,i.kt)("p",null,"Use the Raspberry Pi Imager to flash the image onto an SD card, then insert the SD card into the Raspberry Pi and boot it."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(47783).Z,width:"792",height:"590"})),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Select your Raspberry Pi model."),(0,i.kt)("li",{parentName:"ol"},"Choose the downloaded image file as the OS type."),(0,i.kt)("li",{parentName:"ol"},"Select the SD card as the target."),(0,i.kt)("li",{parentName:"ol"},"Do ",(0,i.kt)("strong",{parentName:"li"},"not")," specify additional user-specific settings.")),(0,i.kt)("h5",{id:"default-credentials"},(0,i.kt)("strong",{parentName:"h5"},"Default Credentials")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"SSID:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"openUC2-unknown")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"WiFi Password:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"copepode")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Username:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"pi")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"User Password:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"youseetoo"))),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("strong",{parentName:"p"},"Note:")," The Forklift image is updated automatically and ensures all software is correctly configured.")),(0,i.kt)("p",null,"For a detailed breakdown of the image creation process, see:\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/beniroquai/imswitch-os/blob/main/setup.sh#L60"},"ImSwitch OS GitHub Setup Script")),(0,i.kt)("h4",{id:"connecting-to-the-raspberry-pi"},(0,i.kt)("strong",{parentName:"h4"},"Connecting to the Raspberry Pi")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Wait until the Raspberry Pi boots and you see the SSID ",(0,i.kt)("inlineCode",{parentName:"li"},"openUC2-unknown"),"."),(0,i.kt)("li",{parentName:"ol"},"Connect to the SSID and navigate to ",(0,i.kt)("inlineCode",{parentName:"li"},"http://192.168.4.1:9090")," to access Cockpit.")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(449).Z,width:"3110",height:"2072"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Cockpit Login Credentials:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Username: ",(0,i.kt)("inlineCode",{parentName:"li"},"pi")),(0,i.kt)("li",{parentName:"ul"},"Password: ",(0,i.kt)("inlineCode",{parentName:"li"},"youseetoo"))))),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"Connect to ImSwitch by navigating to ",(0,i.kt)("inlineCode",{parentName:"li"},"https://192.168.4.1:8001/imswitch/index.html"),". Accept the HTTPS warning (the certificate is self-signed for now).")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(11502).Z,width:"3110",height:"2072"})),(0,i.kt)("h4",{id:"configuring-imswitch"},"Configuring ImSwitch"),(0,i.kt)("p",null,"The default configuration is in ",(0,i.kt)("strong",{parentName:"p"},"Demo Mode"),". For hardware-specific configurations, refer to the ",(0,i.kt)("a",{parentName:"p",href:"https://openuc2.github.io/docs/ImSwitch/ImSwitchOnRaspi#modifying-imswitch-configuration"},"ImSwitch Configuration Guide"),"."),(0,i.kt)("h5",{id:"configure-imswitch-using-the-cockpit"},"Configure ImSwitch using the Cockpit"),(0,i.kt)("p",null,"Once you are connected to the Raspberry Pi, you can go to ",(0,i.kt)("a",{parentName:"p",href:"http://192.168.4.1:9090"},"http://192.168.4.1:9090")," and move over to the terminal. This is the command line interface that does the same thing as the SSH connection you would otherwise do via e.g. ",(0,i.kt)("inlineCode",{parentName:"p"},"ssh pi@192.168.4.1")," (with ",(0,i.kt)("inlineCode",{parentName:"p"},"youseetoo"),") as a password. Below you will find the commands that are helpful to stop/relaunch docker and add configurations manually:"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(8420).Z,width:"3110",height:"2072"})),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(4091).Z,width:"3110",height:"2072"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Stop ImSwitch running in Docker")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pi@odocker ps # find out the  hash of the currently running docker container\ndocker stop *HASH* # stop container\n")),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(46234).Z,width:"3110",height:"2072"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Update Docker manually")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pi@openuc2-epfl-1:~ $ ~/Desktop/update_docker_container.sh\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Start Docker Container Manually")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pi@openuc2-epfl-1:~ $ ~/Desktop/launch_docker_container.sh\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Edit ImSwitch configuration files")),(0,i.kt)("p",null,"More information can be found here: ",(0,i.kt)("a",{parentName:"p",href:"https://openuc2.github.io/docs/ImSwitch/ImSwitchOnRaspi#modifying-imswitch-configuration"},"ImSwitch Configuration Guide"),"."),(0,i.kt)("p",null,"Edit the file that is pointing to the currently active configuration file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pi@openuc2-epfl-nano ImSwitchConfig/imcontrol_setups/epfl_hik.json # => this is the active configuration\n")),(0,i.kt)("p",null,"Edit the configuration file that you would like to use with ImSwitch (e.g. cameras, stages, controllers...)"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"nano ImSwitchConfig/config/imcontrol_options.json  # => name for the active configuration\n")),(0,i.kt)("p",null,"Enter content by copy pasting that into the files when using the nano editor (e.g. HIK camera with UC2 electronics):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "positioners": {\n        "ESP32Stage": {\n          "managerName": "ESP32StageManager",\n          "managerProperties": {\n            "rs232device": "ESP32",\n            "isEnable": false,\n            "enableauto": true,\n            "stepsizeZ": 0.3125,\n            "stepsizeA": 0.3125,\n            "initialSpeed": {"X": 15000, "Y":  15000,"Z": 15000, "A": 15000}\n          },\n          "axes": [\n            "A",\n            "X",\n            "Y",\n            "Z"\n          ],\n          "forPositioning": true\n        }\n      },\n    "rs232devices": {\n    "ESP32": {\n      "managerName": "ESP32Manager",\n      "managerProperties": {\n        "host_": "192.168.43.129",\n        "serialport": "/dev/cu.SLAB_USBtoUART",\n        "baudrate":115200,\n        "debug":1\n      }\n    }\n  },\n  "lasers": {\n    "LED": {\n      "analogChannel": null,\n      "digitalLine": null,\n      "managerName": "ESP32LEDLaserManager",\n      "managerProperties": {\n        "rs232device": "ESP32",\n        "channel_index": 1\n      },\n      "wavelength": 635,\n      "valueRangeMin": 0,\n      "valueRangeMax": 1023\n    }\n  },\n  "detectors": {\n    "WidefieldCamera": {\n        "analogChannel": null,\n        "digitalLine": null,\n        "managerName": "HikCamManager",\n        "managerProperties": {\n            "isRGB": 0,\n            "cameraListIndex": 0,\n            "cameraEffPixelsize": 0.2257,\n            "hikcam": {\n                "exposure": 0,\n                "gain": 0,\n                "blacklevel": 100,\n                "image_width": 1000,\n                "image_height": 1000\n            }\n        },\n        "forAcquisition": true,\n        "forFocusLock": true\n    }\n    },\n  "rois": {\n    "Full chip": {\n      "x": 600,\n      "y": 600,\n      "w": 1200,\n      "h": 1200\n    }\n  },\n  "autofocus": {\n    "camera": "WidefieldCamera",\n    "positioner": "ESP32Stage",\n    "updateFreq": 10,\n    "frameCropx": 780,\n    "frameCropy": 400,\n    "frameCropw": 500,\n    "frameCroph": 100\n  },\n  "availableWidgets": [\n    "Settings",\n    "View",\n    "Recording",\n    "Image",\n    "Laser",\n    "Positioner",\n    "UC2Config",\n    "FlowStop"\n    ],\n  "nonAvailableWidgets":[\n    "UC2Config",\n    "LEDMatrix",\n    "Hypha",\n    "FlowStop",\n    "Hypha",\n    "FocusLock",\n    "HistoScan",\n    "STORMRecon",\n    "DPC",\n    "ImSwitchServer",\n    "PixelCalibration",\n    "FocusLock"]\n}\n')),(0,i.kt)("h4",{id:"alternatively-edit-the-config-via-uc2-menu"},"Alternatively edit the config via UC2-Menu"),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(91518).Z,width:"3110",height:"2072"})),(0,i.kt)("p",null,"Overwrite and reboot. Wait for some time, eventually reconnect wifi and refresh the page. Done :)"),(0,i.kt)("h4",{id:"troubleshooting-pallet-configurations"},"Troubleshooting pallet configurations"),(0,i.kt)("p",null,"If you are facing a problem with a wrong docker configuration (i.e. Docker Compose File is not correct), you can do a temporarily fix by editing the Docker compose file at ",(0,i.kt)("inlineCode",{parentName:"p"},"~/.local/share/forklift/pallet/packages/imswitch/compose.yml"),"  on the Raspberry Pi, and then run ",(0,i.kt)("inlineCode",{parentName:"p"},"forklift pallet stage --no-cache-img")," and reboot. The location ",(0,i.kt)("inlineCode",{parentName:"p"},"~/.local/share/forklift/pallet")," is in fact the git repo of the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/openUC2/pallet"},"https://github.com/openUC2/pallet")," repo."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"summary"},"Summary"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("strong",{parentName:"li"},"manual installation")," allows full customization of Raspberry Pi OS and software."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("strong",{parentName:"li"},"pre-built image")," provides a quick and reliable setup, including all necessary drivers.")),(0,i.kt)("p",null,"For additional details, visit: ",(0,i.kt)("a",{parentName:"p",href:"https://openuc2.github.io/docs/ImSwitch/ImSwitchOnRaspi/"},"ImSwitch Documentation")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"troubleshooting--support"},"Troubleshooting & Support"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If you encounter issues, check the logs using:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"docker logs $(docker ps -q --filter ancestor=ghcr.io/openuc2/imswitch-noqt-arm64:latest)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Join our community for help: ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/openUC2/"},"OpenUC2 GitHub"))),(0,i.kt)("p",null,"Happy experimenting!"))}m.isMDXComponent=!0},449:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ImSwitch-OS-1-609cd3cb00b66ba5fc6128fc01441ba8.png"},11502:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ImSwitch-OS-3-4393a4a902c442243db0f88a64390d38.png"},8420:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Cockpit_1-5097a7f7b441be40e73ab8a9368e1d87.png"},46234:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Cockpit_10-b55c99f6a92e815411f6acbb9ebd5aaf.png"},91518:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Cockpit_11-69823aac33cad54979f066eaa2fcf64b.png"},4091:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Cockpit_2-e36939b2ccfde1349599be8ef5283b31.png"},98911:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ImSwitchInTheWeb-a730e3e74af953e2829ba4fb3fc4ff75.png"},64071:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Rasberry_pi_download-a06eef725c204b2dafb3a995133187a5.png"},9889:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/RaspiOS_1-7f88f530b0d81c1cafe06c3050c97e52.png"},47783:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/RaspiOS_2-2fbc9222e6f17bbfc8815be5d6b24593.png"},83337:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/angry_IP_scanner-ba8a53a4fd5542556720a9166807bae2.png"},3974:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ssh_uc2_IP_of_your_Raspi-042978ef6d8a195235497f71b392dcdc.png"}}]);