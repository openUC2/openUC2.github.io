"use strict";(self.webpackChunkuc_2_docs=self.webpackChunkuc_2_docs||[]).push([[2776],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),h=c(a),d=r,u=h["".concat(s,".").concat(d)]||h[d]||p[d]||o;return a?n.createElement(u,i(i({ref:t},m),{},{components:a})):n.createElement(u,i({ref:t},m))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},14934:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const o={},i="Chapter 1: Hardware Control Hub (`imcontrol`)",l={unversionedId:"ImSwitch/ImSwitchTutorialAutogenerated/hardware_control_hub___imcontrol___",id:"ImSwitch/ImSwitchTutorialAutogenerated/hardware_control_hub___imcontrol___",title:"Chapter 1: Hardware Control Hub (`imcontrol`)",description:"Welcome to the ImSwitch tutorial! We're excited to guide you through the core concepts of this powerful open-source microscopy software.",source:"@site/docs/04_ImSwitch/ImSwitchTutorialAutogenerated/01_hardware_control_hub___imcontrol___.md",sourceDirName:"04_ImSwitch/ImSwitchTutorialAutogenerated",slug:"/ImSwitch/ImSwitchTutorialAutogenerated/hardware_control_hub___imcontrol___",permalink:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/hardware_control_hub___imcontrol___",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Tutorial: ImSwitch",permalink:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/"},next:{title:"Chapter 2: Image Reconstruction Pipeline (`imreconstruct`)",permalink:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/image_reconstruction_pipeline___imreconstruct___"}},s={},c=[{value:"What Problem Does <code>imcontrol</code> Solve?",id:"what-problem-does-imcontrol-solve",level:2},{value:"<code>imcontrol</code>: The Microscope&#39;s Cockpit",id:"imcontrol-the-microscopes-cockpit",level:2},{value:"Key Ideas Inside <code>imcontrol</code>",id:"key-ideas-inside-imcontrol",level:2},{value:"How <code>imcontrol</code> Works: Taking That Image",id:"how-imcontrol-works-taking-that-image",level:2},{value:"A Glimpse Under the Hood (Conceptual Code)",id:"a-glimpse-under-the-hood-conceptual-code",level:2},{value:"Conclusion",id:"conclusion",level:2}],m={toc:c};function p(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"chapter-1-hardware-control-hub-imcontrol"},"Chapter 1: Hardware Control Hub (",(0,r.kt)("inlineCode",{parentName:"h1"},"imcontrol"),")"),(0,r.kt)("p",null,"Welcome to the ImSwitch tutorial! We're excited to guide you through the core concepts of this powerful open-source microscopy software."),(0,r.kt)("p",null,"Imagine you're sitting in front of a complex microscope with lots of different parts: a sensitive camera, multiple lasers of different colors, a motorized stage to move your sample, and maybe some special LEDs. How do you get all these pieces to work together smoothly to capture the exact image or data you need for your research? Trying to control each piece manually would be like trying to fly a plane by individually tweaking every wire!"),(0,r.kt)("p",null,"This is where the ",(0,r.kt)("strong",{parentName:"p"},"Hardware Control Hub (",(0,r.kt)("inlineCode",{parentName:"strong"},"imcontrol"),")")," comes in."),(0,r.kt)("h2",{id:"what-problem-does-imcontrol-solve"},"What Problem Does ",(0,r.kt)("inlineCode",{parentName:"h2"},"imcontrol")," Solve?"),(0,r.kt)("p",null,"The main challenge is ",(0,r.kt)("strong",{parentName:"p"},"coordination"),". Microscopes often involve multiple hardware components that need to perform actions in a specific sequence."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Use Case Example: Taking a Simple Fluorescence Image")),(0,r.kt)("p",null,"Let's say you want to take a picture of a biological sample stained with a fluorescent dye. You need to:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Turn on")," the correct laser to excite the dye."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Tell the camera")," to start capturing light."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Wait")," for the camera to collect enough light (exposure time)."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Tell the camera")," to stop capturing."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Turn off")," the laser."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Get the image data")," from the camera.")),(0,r.kt)("p",null,"Doing this manually for every image is tedious and prone to errors. ",(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," acts as the central coordinator, managing all these steps automatically based on your instructions."),(0,r.kt)("h2",{id:"imcontrol-the-microscopes-cockpit"},(0,r.kt)("inlineCode",{parentName:"h2"},"imcontrol"),": The Microscope's Cockpit"),(0,r.kt)("p",null,"Think of ",(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," as the ",(0,r.kt)("strong",{parentName:"p"},"cockpit of an airplane")," or the ",(0,r.kt)("strong",{parentName:"p"},"conductor of an orchestra"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Airplane Cockpit:")," The pilot (ImSwitch software, or you telling the software what to do) uses the controls in the cockpit (",(0,r.kt)("inlineCode",{parentName:"li"},"imcontrol"),") to manage the engines (lasers), flaps (shutters), navigation systems (motorized stage), and sensors (camera) to successfully fly the plane (run an experiment)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Orchestra Conductor:")," The conductor (",(0,r.kt)("inlineCode",{parentName:"li"},"imcontrol"),") directs different sections of the orchestra (hardware like cameras, lasers, motors) to play their parts at the right time and volume, creating a harmonious piece (your experiment).")),(0,r.kt)("p",null,"In essence, ",(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," is the ",(0,r.kt)("strong",{parentName:"p"},"central command center")," for discovering, configuring, controlling, and coordinating all the physical hardware components connected to your microscope."),(0,r.kt)("h2",{id:"key-ideas-inside-imcontrol"},"Key Ideas Inside ",(0,r.kt)("inlineCode",{parentName:"h2"},"imcontrol")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," isn't just one monolithic block. It's organized logically:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Device Managers:")," Instead of knowing about every single specific camera model, ",(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," groups hardware into categories. There's a ",(0,r.kt)("em",{parentName:"p"},"manager")," for cameras (",(0,r.kt)("inlineCode",{parentName:"p"},"detectors"),"), a manager for lasers (",(0,r.kt)("inlineCode",{parentName:"p"},"lasers"),"), one for motorized stages (",(0,r.kt)("inlineCode",{parentName:"p"},"positioners"),"), one for simple LEDs (",(0,r.kt)("inlineCode",{parentName:"p"},"LEDs"),"), etc. These managers know how to handle the general tasks for their category (e.g., the Camera Manager knows about starting/stopping acquisition, setting exposure time)."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"You can find the code for these managers in directories like ",(0,r.kt)("inlineCode",{parentName:"li"},"imswitch/imcontrol/model/managers/detectors/"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"imswitch/imcontrol/model/managers/lasers/"),", etc."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Device Interfaces:")," How does the Camera Manager talk to a ",(0,r.kt)("em",{parentName:"p"},"specific")," camera, like a Hamamatsu Orca Flash 4.0? It uses a specific ",(0,r.kt)("strong",{parentName:"p"},"Device Interface"),". This is like a translator or a specific plug adapter that knows the exact commands and language ",(0,r.kt)("em",{parentName:"p"},"that particular model")," understands. We'll dive deeper into these in ",(0,r.kt)("a",{parentName:"p",href:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/device_interfaces___imcontrol_model_interfaces___"},"Chapter 5: Device Interfaces (",(0,r.kt)("inlineCode",{parentName:"a"},"imcontrol/model/interfaces"),")"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"The Core Controller:")," At the heart of ",(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," lies components like ",(0,r.kt)("inlineCode",{parentName:"p"},"ImConMainController")," (from ",(0,r.kt)("inlineCode",{parentName:"p"},"imswitch/imcontrol/controller/"),") which orchestrates the overall activity, receives commands, and delegates tasks to the appropriate managers. Think of this as the main flight computer or the conductor's brain."))),(0,r.kt)("h2",{id:"how-imcontrol-works-taking-that-image"},"How ",(0,r.kt)("inlineCode",{parentName:"h2"},"imcontrol")," Works: Taking That Image"),(0,r.kt)("p",null,'Let\'s revisit our "Take a Simple Fluorescence Image" example and see how ',(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," handles it step-by-step:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},'You Click "Snap":')," You (or a script) issue a command through the ImSwitch interface (like the ",(0,r.kt)("a",{parentName:"li",href:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/gui_toolkit___guitools___"},"GUI Toolkit (",(0,r.kt)("inlineCode",{parentName:"a"},"guitools"),")"),") to acquire an image."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Command Reaches ",(0,r.kt)("inlineCode",{parentName:"strong"},"imcontrol"),":"),' The main ImSwitch application sends this "acquire" request to ',(0,r.kt)("inlineCode",{parentName:"li"},"imcontrol"),"."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"imcontrol")," Delegates:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"imcontrol")," understands this involves a laser and a camera. It tells the Laser Manager to turn on the specific laser you selected. It then tells the Camera Manager (the ",(0,r.kt)("inlineCode",{parentName:"li"},"detectors")," manager) to prepare for acquisition."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Managers Use Interfaces:")," The Laser Manager uses the specific ",(0,r.kt)("a",{parentName:"li",href:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/device_interfaces___imcontrol_model_interfaces___"},"Device Interfaces (",(0,r.kt)("inlineCode",{parentName:"a"},"imcontrol/model/interfaces"),")"),' for your laser model to send the "turn on" command. The Camera Manager uses the camera\'s specific interface to send the "start exposure" command.'),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Hardware Acts:")," The physical laser turns on, and the physical camera starts collecting light."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Waiting:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"imcontrol")," (or the Camera Manager) waits for the specified exposure time."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Stopping:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"imcontrol")," tells the Camera Manager to stop the exposure and the Laser Manager to turn off the laser, again using the specific device interfaces."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Data Transfer:")," The Camera Manager, via the interface, retrieves the image data from the camera's internal memory."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Data Delivered:")," ",(0,r.kt)("inlineCode",{parentName:"li"},"imcontrol")," receives the image data and typically passes it along for processing or display, potentially involving the ",(0,r.kt)("a",{parentName:"li",href:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/image_reconstruction_pipeline___imreconstruct___"},"Image Reconstruction Pipeline (",(0,r.kt)("inlineCode",{parentName:"a"},"imreconstruct"),")"),".")),(0,r.kt)("p",null,"Here's a simplified diagram showing the flow:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mermaid"},"sequenceDiagram\n    participant User\n    participant ImSwitch App\n    participant IC as imcontrol (Hub)\n    participant CamMgr as Camera Manager\n    participant LaserMgr as Laser Manager\n    participant CamIface as Camera Interface\n    participant LaserIface as Laser Interface\n    participant PhysCam as Physical Camera\n    participant PhysLaser as Physical Laser\n\n    User->>ImSwitch App: Click \"Snap\"\n    ImSwitch App->>IC: Acquire Image Request\n    IC->>LaserMgr: Turn On Laser 'X'\n    LaserMgr->>LaserIface: Send 'ON' command\n    LaserIface->>PhysLaser: (Hardware signal ON)\n    IC->>CamMgr: Start Acquisition\n    CamMgr->>CamIface: Send 'Start Exposure' command\n    CamIface->>PhysCam: (Hardware signal Start)\n    PhysCam--\x3e>CamIface: (Exposure ongoing)\n    Note right of PhysCam: ...Wait for exposure...\n    IC->>CamMgr: Stop Acquisition\n    CamMgr->>CamIface: Send 'Stop Exposure' command\n    CamIface->>PhysCam: (Hardware signal Stop)\n    CamMgr->>CamIface: Get Image Data\n    CamIface->>PhysCam: (Request data)\n    PhysCam--\x3e>CamIface: Image Data\n    CamIface--\x3e>CamMgr: Image Data\n    IC->>LaserMgr: Turn Off Laser 'X'\n    LaserMgr->>LaserIface: Send 'OFF' command\n    LaserIface->>PhysLaser: (Hardware signal OFF)\n    CamMgr--\x3e>IC: Image Data Ready\n    IC--\x3e>ImSwitch App: Image Data\n    ImSwitch App->>User: Display Image\n")),(0,r.kt)("h2",{id:"a-glimpse-under-the-hood-conceptual-code"},"A Glimpse Under the Hood (Conceptual Code)"),(0,r.kt)("p",null,"You usually won't interact with ",(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol"),"'s internal code directly when just ",(0,r.kt)("em",{parentName:"p"},"using")," ImSwitch through its graphical interface. But understanding the structure helps if you want to write scripts or understand how things work."),(0,r.kt)("p",null,"The main controller often acts as the entry point:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# Conceptual: Getting access to the main controller\n# (Actual access might differ depending on context)\nfrom imswitch.imcontrol.controller import ImConMainController\n\n# Imagine 'main_controller' is the running instance of ImConMainController\n# main_controller = get_running_imcontrol_instance() # How you get this varies\n")),(0,r.kt)("p",null,"This ",(0,r.kt)("inlineCode",{parentName:"p"},"main_controller")," object holds references to all the device managers. To control a device, you'd typically get its manager first:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'# Get the manager for detectors (cameras)\ncamera_manager = main_controller.get_manager("detectors")\n\n# Get the manager for lasers\nlaser_manager = main_controller.get_manager("lasers")\n')),(0,r.kt)("p",null,"Then, you can issue commands through the manager:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"# Tell the camera manager to start a single acquisition (snap)\n# The manager figures out which specific camera interface to use.\ncamera_manager.snap()\n\n# Tell the laser manager to set the power of a specific laser\n# (Assume laser 'LaserA' is configured)\nlaser_manager.set_power(\"LaserA\", 50) # Set power to 50%\n")),(0,r.kt)("p",null,"The real code involves more details about specific device names, settings, and handling asynchronous operations (since hardware takes time!), but this gives you the basic idea. The core logic resides within the ",(0,r.kt)("inlineCode",{parentName:"p"},"imswitch/imcontrol/controller/")," directory, while the definitions of hardware types and their specific interfaces are primarily within ",(0,r.kt)("inlineCode",{parentName:"p"},"imswitch/imcontrol/model/"),"."),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"You've now learned about the ",(0,r.kt)("strong",{parentName:"p"},"Hardware Control Hub (",(0,r.kt)("inlineCode",{parentName:"strong"},"imcontrol"),")"),", the essential component in ImSwitch responsible for managing and coordinating all the physical parts of your microscope. It acts like a central cockpit, using specific managers and interfaces to talk to devices like cameras, lasers, and motors, allowing complex experiments to run smoothly."),(0,r.kt)("p",null,"Understanding ",(0,r.kt)("inlineCode",{parentName:"p"},"imcontrol")," is the first step in mastering ImSwitch. Now that we know how hardware is controlled and data (like images) is acquired, let's move on to see what happens with that data next."),(0,r.kt)("p",null,"Ready to see how raw images are processed and potentially transformed? Let's dive into the ",(0,r.kt)("a",{parentName:"p",href:"/docs/ImSwitch/ImSwitchTutorialAutogenerated/image_reconstruction_pipeline___imreconstruct___"},"Chapter 2: Image Reconstruction Pipeline (",(0,r.kt)("inlineCode",{parentName:"a"},"imreconstruct"),")"),"."),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Generated by ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/The-Pocket/Tutorial-Codebase-Knowledge"},"AI Codebase Knowledge Builder")))}p.isMDXComponent=!0}}]);