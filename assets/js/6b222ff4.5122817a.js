"use strict";(self.webpackChunkuc_2_docs=self.webpackChunkuc_2_docs||[]).push([[2611],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),h=i,m=d["".concat(s,".").concat(h)]||d[h]||p[h]||o;return n?a.createElement(m,r(r({ref:t},u),{},{components:n})):a.createElement(m,r({ref:t},u))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},35741:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(87462),i=(n(67294),n(3905));const o={},r="Histo Scanner Plugin Documentation",l={unversionedId:"ARCHIVE/XYZMicroscope/HistoScan",id:"ARCHIVE/XYZMicroscope/HistoScan",title:"Histo Scanner Plugin Documentation",description:"Welcome to the documentation page for the Histo Scanner Plugin, a powerful tool for scanning large areas and stitching images onto a large canvas. This page provides detailed information on how to configure and use the plugin effectively.",source:"@site/docs/30_ARCHIVE/02_XYZMicroscope/HistoScan.md",sourceDirName:"30_ARCHIVE/02_XYZMicroscope",slug:"/ARCHIVE/XYZMicroscope/HistoScan",permalink:"/docs/ARCHIVE/XYZMicroscope/HistoScan",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"openUC2 FiveD v4",permalink:"/docs/ARCHIVE/XYZMicroscope/FiveD_v4"},next:{title:"MCT (Multi-Colour Timelapse) Imaging Plugin",permalink:"/docs/ARCHIVE/XYZMicroscope/MCTPlugin"}},s={},c=[{value:"Overview",id:"overview",level:2},{value:"Initial Setup",id:"initial-setup",level:2},{value:"Scanning Process",id:"scanning-process",level:2},{value:"ImSwitch Configuration",id:"imswitch-configuration",level:2},{value:"For the Stage",id:"for-the-stage",level:3},{value:"For the Detector",id:"for-the-detector",level:3},{value:"File Handling",id:"file-handling",level:2},{value:"Hardware/Software Setup",id:"hardwaresoftware-setup",level:2},{value:"Tutorials and Demonstrations",id:"tutorials-and-demonstrations",level:2},{value:"Tutorial that explains how the different axes can be matched",id:"tutorial-that-explains-how-the-different-axes-can-be-matched",level:2},{value:"The Full plugin in action",id:"the-full-plugin-in-action",level:2}],u={toc:c};function p(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"histo-scanner-plugin-documentation"},"Histo Scanner Plugin Documentation"),(0,i.kt)("p",null,"Welcome to the documentation page for the Histo Scanner Plugin, a powerful tool for scanning large areas and stitching images onto a large canvas. This page provides detailed information on how to configure and use the plugin effectively."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(52201).Z,width:"500",height:"258"})),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"The Histoscanner Plugin integrates with the ImSwitch widget and controller to facilitate the scanning of large sample areas. Users can select a sample geometry and initiate scanning, which captures images and stitches them together to form a comprehensive view."),(0,i.kt)("h2",{id:"initial-setup"},"Initial Setup"),(0,i.kt)("p",null,"Before starting a scan, ensure the following settings are configured correctly:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Pixel Size"),": Set in the ",(0,i.kt)("inlineCode",{parentName:"li"},"setup.json")," file. This size must be calibrated, possibly using a ruler."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Step Size of Axis"),": Also set in the ",(0,i.kt)("inlineCode",{parentName:"li"},"setup.json"),". It typically depends on the steps/mm defined by the leadscrew."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Sample Configuration File"),": An example file can be found ",(0,i.kt)("a",{parentName:"li",href:"https://raw.githubusercontent.com/openUC2/ImSwitchConfig/master/imcontrol_setups/example_uc2_hik_histo.json"},"here"),".")),(0,i.kt)("h2",{id:"scanning-process"},"Scanning Process"),(0,i.kt)("p",null,"The microscope will compute the scan area and the necessary scan stepsize on its own and will perform a snake scan. Alternatively you can provide a list of coordinates."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(64463).Z,width:"567",height:"360"})),(0,i.kt)("p",null,"Once the scan is successfully initiated, the final output is displayed in a downscaled version on napari to conserve memory."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(45224).Z,width:"3882",height:"1934"})),(0,i.kt)("h2",{id:"imswitch-configuration"},"ImSwitch Configuration"),(0,i.kt)("p",null,"The configuration settings for the detector and stage are crucial. Here are the JSON settings for both:"),(0,i.kt)("h3",{id:"for-the-stage"},"For the Stage"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'  "positioners": {\n    "ESP32Stage": {\n      "managerName": "ESP32StageManager",\n      "managerProperties": {\n        "rs232device": "ESP32",\n        "isEnable": true,\n        "enableauto": false,\n        "stepsizeX": -0.3125,\n        "stepsizeY": -0.3125,\n        "stepsizeZ": 0.3125,\n        "homeSpeedX": 15000,\n        "homeSpeedY": 15000,\n        "homeSpeedZ": 15000,\n        "isDualaxis": true,\n        "homeDirectionX": 1,\n        "backlashXOld": 15,\n        "backlashYOld": 40,\n        "backlashX": 0,\n        "backlashY": 0,\n        "homeEndstoppolarityY": 0,\n        "homeDirectionY": -1,\n        "homeDirectionZ": 0,\n        "homeXenabled": 1,\n        "homeYenabled": 1,\n        "homeZenabled": 0,\n        "initialSpeed": {\n          "X": 15000,\n          "Y": 15000,\n          "Z": 15000\n        }\n      },\n      "axes": [\n        "X",\n        "Y",\n        "Z"\n      ],\n      "forScanning": true,\n      "forPositioning": true\n    }\n  }\n')),(0,i.kt)("h3",{id:"for-the-detector"},"For the Detector"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'  "detectors": {\n    "WidefieldCamera": {\n      "analogChannel": null,\n      "digitalLine": null,\n      "managerName": "HikCamManager",\n      "managerProperties": {\n        "isRGB": 1,\n        "cameraListIndex": 0,\n        "cameraEffPixelsize": 0.2257,\n        "hikcam": {\n          "exposure": 0,\n          "gain": 0,\n          "blacklevel": 100,\n          "image_width": 1000,\n          "image_height": 1000\n        }\n      },\n      "forAcquisition": true,\n      "forFocusLock": true\n    }\n')),(0,i.kt)("h2",{id:"file-handling"},"File Handling"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Storing Metadata"),": All metadata is stored in the ",(0,i.kt)("inlineCode",{parentName:"li"},"OME.TIF")," format."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Opening in Fiji"),": Files can be easily opened and stitched in Fiji by importing them as OME.TIF."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Opening in ASHLAR"),": Use the script developed during the openUC2 hackathon available ",(0,i.kt)("a",{parentName:"li",href:"https://gist.github.com/frauzufall/047d0739ce3f1032af32b221523bc66c"},"here")," as a starting point for handling files in Ashlar.")),(0,i.kt)("h2",{id:"hardwaresoftware-setup"},"Hardware/Software Setup"),(0,i.kt)("p",null,"Correct orientation of the stage coordinates and camera coordinates is essential. The configuration ensures that the camera orientation matches the stage scanning positions."),(0,i.kt)("p",null,"In order to have correct orientation it's important that the stage coordinates and the camera coordaintes are matching. The below image shows how the camera has to be orietned w.r.t. the stage scanning positions\n",(0,i.kt)("img",{src:n(31618).Z,width:"2795",height:"2117"})),(0,i.kt)("h2",{id:"tutorials-and-demonstrations"},"Tutorials and Demonstrations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Tutorial on Matching Axes"),": A tutorial explaining the matching of different axes is available on ",(0,i.kt)("a",{parentName:"li",href:"https://www.youtube.com/embed/Uze1imGPru4?si=NiWNVGJBRndXV8yM"},"YouTube"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Full Plugin in Action"),": Watch the plugin in action ",(0,i.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=bQ3B7uUlJuI&ab_channel=openUC2"},"here"),".")),(0,i.kt)("p",null,"Feel free to reach out with any queries or suggestions to enhance this documentation. Happy scanning with Histo Scanner!\nuUlJuI&ab_channel=openUC2"),(0,i.kt)("h2",{id:"tutorial-that-explains-how-the-different-axes-can-be-matched"},"Tutorial that explains how the different axes can be matched"),(0,i.kt)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden"}},(0,i.kt)("iframe",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:"https://www.youtube.com/embed/Uze1imGPru4?si=NiWNVGJBRndXV8yM",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),(0,i.kt)("h2",{id:"the-full-plugin-in-action"},"The Full plugin in action"),(0,i.kt)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden"}},(0,i.kt)("iframe",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:"https://www.youtube.com/embed/bQ3B7uUlJuI?si=WuIyXiXs8RZWZ0p9",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))}p.isMDXComponent=!0},31618:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Coordinatesystems-54ee4c32debbf9d112707e526bfbe48b.png"},52201:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Scanning-e06599a569e779fc66a05e300b603acf.gif"},64463:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/snakescan-574d92ddb9a150babf4ceda4d72346a8.png"},45224:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/stagescanner-1b314fa6f3a6f241c7ac0346d4f68b4e.png"}}]);